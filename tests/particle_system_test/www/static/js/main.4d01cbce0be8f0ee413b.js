(()=>{"use strict";var e={14:(e,r,t)=>{e.exports=t.p+"static/assets/ParticleSystem.b9064aff6a796ba55140.wasm"}},r={};function t(n){var a=r[n];if(void 0!==a)return a.exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}t.m=e,t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var r=t.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var n=r.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../../"})(),t.b=document.baseURI||self.location.href,(()=>{const e=("file:///C:/Users/jetcl/Github/particle-system-js/src/particle-system/bin/ParticleSystem.js",function(e={}){var r,n,a=e;a.ready=new Promise(((e,t)=>{r=e,n=t}));var o,i,s=Object.assign({},a),u="./this.program",c=(e,r)=>{throw r},l="";"undefined"!=typeof document&&document.currentScript&&(l=document.currentScript.src),l=(l="file:///C:/Users/jetcl/Github/particle-system-js/src/particle-system/bin/ParticleSystem.js").startsWith("blob:")?"":l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1),o=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},i=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?r(n.response):t()},n.onerror=t,n.send(null)};var d,f,m=a.print||console.log.bind(console),v=a.printErr||console.error.bind(console);Object.assign(a,s),s=null,a.arguments&&a.arguments,a.thisProgram&&(u=a.thisProgram),a.quit&&(c=a.quit),a.wasmBinary&&(d=a.wasmBinary),"object"!=typeof WebAssembly&&B("no native wasm support detected");var p,g,h,b,y,w,E,x,_,k=!1;function C(){var e=f.buffer;a.HEAP8=g=new Int8Array(e),a.HEAP16=b=new Int16Array(e),a.HEAPU8=h=new Uint8Array(e),a.HEAPU16=y=new Uint16Array(e),a.HEAP32=w=new Int32Array(e),a.HEAPU32=E=new Uint32Array(e),a.HEAPF32=x=new Float32Array(e),a.HEAPF64=_=new Float64Array(e)}var L=[],S=[],F=[],D=[],P=0,A=null,M=null;function R(e){P++,a.monitorRunDependencies?.(P)}function T(e){if(P--,a.monitorRunDependencies?.(P),0==P&&(null!==A&&(clearInterval(A),A=null),M)){var r=M;M=null,r()}}function B(e){a.onAbort?.(e),v(e="Aborted("+e+")"),k=!0,p=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw n(r),r}var I,j,N,O,z=e=>e.startsWith("data:application/octet-stream;base64,");function U(e){if(e==I&&d)return new Uint8Array(d);throw"both async and sync fetching of the wasm failed"}function G(e,r,t){return function(e){return d||"function"!=typeof fetch?Promise.resolve().then((()=>U(e))):fetch(e,{credentials:"same-origin"}).then((r=>{if(!r.ok)throw`failed to load wasm binary file at '${e}'`;return r.arrayBuffer()})).catch((()=>U(e)))}(e).then((e=>WebAssembly.instantiate(e,r))).then(t,(e=>{v(`failed to asynchronously prepare wasm: ${e}`),B(e)}))}a.locateFile?z(I="ParticleSystem.wasm")||(j=I,I=a.locateFile?a.locateFile(j,l):l+j):I=new URL(t(14),t.b).href;var q={267544:e=>{var r=de(e)+"\n\nAbort/Retry/Ignore/AlwaysIgnore? [ariA] :",t=window.prompt(r,"i");return null===t&&(t="i"),allocate(ne(t),"i8",ALLOC_NORMAL)},267769:()=>"undefined"!=typeof AudioContext||"undefined"!=typeof webkitAudioContext,267916:()=>void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia||void 0!==navigator.webkitGetUserMedia,268150:e=>{void 0===a.SDL2&&(a.SDL2={});var r=a.SDL2;return e?r.capture={}:r.audio={},r.audioContext||("undefined"!=typeof AudioContext?r.audioContext=new AudioContext:"undefined"!=typeof webkitAudioContext&&(r.audioContext=new webkitAudioContext),r.audioContext&&va(r.audioContext)),void 0===r.audioContext?-1:0},268643:()=>a.SDL2.audioContext.sampleRate,268711:(e,r,t,n)=>{var o=a.SDL2,i=function(a){void 0!==o.capture.silenceTimer&&(clearTimeout(o.capture.silenceTimer),o.capture.silenceTimer=void 0),o.capture.mediaStreamNode=o.audioContext.createMediaStreamSource(a),o.capture.scriptProcessorNode=o.audioContext.createScriptProcessor(r,e,1),o.capture.scriptProcessorNode.onaudioprocess=function(e){void 0!==o&&void 0!==o.capture&&(e.outputBuffer.getChannelData(0).fill(0),o.capture.currentCaptureBuffer=e.inputBuffer,pa("vi",t,[n]))},o.capture.mediaStreamNode.connect(o.capture.scriptProcessorNode),o.capture.scriptProcessorNode.connect(o.audioContext.destination),o.capture.stream=a},s=function(e){};o.capture.silenceBuffer=o.audioContext.createBuffer(e,r,o.audioContext.sampleRate),o.capture.silenceBuffer.getChannelData(0).fill(0),o.capture.silenceTimer=setTimeout((function(){o.capture.currentCaptureBuffer=o.capture.silenceBuffer,pa("vi",t,[n])}),r/o.audioContext.sampleRate*1e3),void 0!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(i).catch(s):void 0!==navigator.webkitGetUserMedia&&navigator.webkitGetUserMedia({audio:!0,video:!1},i,s)},270363:(e,r,t,n)=>{var o=a.SDL2;o.audio.scriptProcessorNode=o.audioContext.createScriptProcessor(r,0,e),o.audio.scriptProcessorNode.onaudioprocess=function(e){void 0!==o&&void 0!==o.audio&&(o.audio.currentOutputBuffer=e.outputBuffer,pa("vi",t,[n]))},o.audio.scriptProcessorNode.connect(o.audioContext.destination)},270773:(e,r)=>{for(var t=a.SDL2,n=t.capture.currentCaptureBuffer.numberOfChannels,o=0;o<n;++o){var i=t.capture.currentCaptureBuffer.getChannelData(o);if(i.length!=r)throw"Web Audio capture buffer length mismatch! Destination size: "+i.length+" samples vs expected "+r+" samples!";if(1==n)for(var s=0;s<r;++s)Y(e+4*s,i[s],"float");else for(s=0;s<r;++s)Y(e+4*(s*n+o),i[s],"float")}},271378:(e,r)=>{for(var t=a.SDL2,n=t.audio.currentOutputBuffer.numberOfChannels,o=0;o<n;++o){var i=t.audio.currentOutputBuffer.getChannelData(o);if(i.length!=r)throw"Web Audio output buffer length mismatch! Destination size: "+i.length+" samples vs expected "+r+" samples!";for(var s=0;s<r;++s)i[s]=x[e+(s*n+o<<2)>>2]}},271858:e=>{var r=a.SDL2;if(e){if(void 0!==r.capture.silenceTimer&&clearTimeout(r.capture.silenceTimer),void 0!==r.capture.stream){for(var t=r.capture.stream.getAudioTracks(),n=0;n<t.length;n++)r.capture.stream.removeTrack(t[n]);r.capture.stream=void 0}void 0!==r.capture.scriptProcessorNode&&(r.capture.scriptProcessorNode.onaudioprocess=function(e){},r.capture.scriptProcessorNode.disconnect(),r.capture.scriptProcessorNode=void 0),void 0!==r.capture.mediaStreamNode&&(r.capture.mediaStreamNode.disconnect(),r.capture.mediaStreamNode=void 0),void 0!==r.capture.silenceBuffer&&(r.capture.silenceBuffer=void 0),r.capture=void 0}else null!=r.audio.scriptProcessorNode&&(r.audio.scriptProcessorNode.disconnect(),r.audio.scriptProcessorNode=void 0),r.audio=void 0;void 0!==r.audioContext&&void 0===r.audio&&void 0===r.capture&&(r.audioContext.close(),r.audioContext=void 0)},273030:(e,r,t)=>{var n=e,o=r,i=t;a.SDL2||(a.SDL2={});var s=a.SDL2;s.ctxCanvas!==a.canvas&&(s.ctx=a.createContext(a.canvas,!1,!0),s.ctxCanvas=a.canvas),s.w===n&&s.h===o&&s.imageCtx===s.ctx||(s.image=s.ctx.createImageData(n,o),s.w=n,s.h=o,s.imageCtx=s.ctx);var u,c=s.image.data,l=i>>2,d=0;if("undefined"!=typeof CanvasPixelArray&&c instanceof CanvasPixelArray)for(u=c.length;d<u;){var f=w[l];c[d]=255&f,c[d+1]=f>>8&255,c[d+2]=f>>16&255,c[d+3]=255,l++,d+=4}else{s.data32Data!==c&&(s.data32=new Int32Array(c.buffer),s.data8=new Uint8Array(c.buffer),s.data32Data=c);var m=s.data32;u=m.length,m.set(w.subarray(l,l+u));var v=s.data8,p=3,g=p+4*u;if(u%8==0)for(;p<g;)v[p]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,v[p=p+4|0]=255,p=p+4|0;else for(;p<g;)v[p]=255,p=p+4|0}s.ctx.putImageData(s.image,0,0)},274499:(e,r,t,n,a)=>{var o=e,i=r,s=t,u=n,c=a,l=document.createElement("canvas");l.width=o,l.height=i;var d,f=l.getContext("2d"),m=f.createImageData(o,i),v=m.data,p=c>>2,g=0;if("undefined"!=typeof CanvasPixelArray&&v instanceof CanvasPixelArray)for(d=v.length;g<d;){var h=w[p];v[g]=255&h,v[g+1]=h>>8&255,v[g+2]=h>>16&255,v[g+3]=h>>24&255,p++,g+=4}else{var b=new Int32Array(v.buffer);d=b.length,b.set(w.subarray(p,p+d))}f.putImageData(m,0,0);var y=0===s&&0===u?"url("+l.toDataURL()+"), auto":"url("+l.toDataURL()+") "+s+" "+u+", auto",E=La(y.length+1);return Le(y,E,y.length+1),E},275488:e=>{a.canvas&&(a.canvas.style.cursor=de(e))},275571:()=>{a.canvas&&(a.canvas.style.cursor="none")},275640:()=>window.innerWidth,275670:()=>window.innerHeight};function H(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var W=e=>{for(;e.length>0;)e.shift()(a)},X=a.noExitRuntime||!0;function Y(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":g[e]=r;break;case"i16":b[e>>1]=r;break;case"i32":w[e>>2]=r;break;case"i64":B("to do setValue(i64) use WASM_BIGINT");case"float":x[e>>2]=r;break;case"double":_[e>>3]=r;break;case"*":E[e>>2]=r;break;default:B(`invalid type for setValue: ${t}`)}}class V{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){E[this.ptr+4>>2]=e}get_type(){return E[this.ptr+4>>2]}set_destructor(e){E[this.ptr+8>>2]=e}get_destructor(){return E[this.ptr+8>>2]}set_caught(e){e=e?1:0,g[this.ptr+12]=e}get_caught(){return 0!=g[this.ptr+12]}set_rethrown(e){e=e?1:0,g[this.ptr+13]=e}get_rethrown(){return 0!=g[this.ptr+13]}init(e,r){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(r)}set_adjusted_ptr(e){E[this.ptr+16>>2]=e}get_adjusted_ptr(){return E[this.ptr+16>>2]}get_exception_ptr(){if(Pa(this.get_type()))return E[this.excPtr>>2];var e=this.get_adjusted_ptr();return 0!==e?e:this.excPtr}}var $={isAbs:e=>"/"===e.charAt(0),splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=$.isAbs(e),t="/"===e.substr(-1);return(e=$.normalizeArray(e.split("/").filter((e=>!!e)),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=$.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:e=>{if("/"===e)return"/";var r=(e=(e=$.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===r?e:e.substr(r+1)},join:(...e)=>$.normalize(e.join("/")),join2:(e,r)=>$.normalize(e+"/"+r)},Q=e=>(Q=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);B("initRandomDevice")})())(e),K={resolve:(...e)=>{for(var r="",t=!1,n=e.length-1;n>=-1&&!t;n--){var a=n>=0?e[n]:le.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");if(!a)return"";r=a+"/"+r,t=$.isAbs(a)}return(t?"/":"")+(r=$.normalizeArray(r.split("/").filter((e=>!!e)),!t).join("/"))||"."},relative:(e,r)=>{function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=K.resolve(e).substr(1),r=K.resolve(r).substr(1);for(var n=t(e.split("/")),a=t(r.split("/")),o=Math.min(n.length,a.length),i=o,s=0;s<o;s++)if(n[s]!==a[s]){i=s;break}var u=[];for(s=i;s<n.length;s++)u.push("..");return(u=u.concat(a.slice(i))).join("/")}},J="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,Z=(e,r,t)=>{for(var n=r+t,a=r;e[a]&&!(a>=n);)++a;if(a-r>16&&e.buffer&&J)return J.decode(e.subarray(r,a));for(var o="";r<a;){var i=e[r++];if(128&i){var s=63&e[r++];if(192!=(224&i)){var u=63&e[r++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[r++])<65536)o+=String.fromCharCode(i);else{var c=i-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o},ee=[],re=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},te=(e,r,t,n)=>{if(!(n>0))return 0;for(var a=t,o=t+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(t>=o)break;r[t++]=s}else if(s<=2047){if(t+1>=o)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(t+2>=o)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(t+3>=o)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-a};function ne(e,r,t){var n=t>0?t:re(e)+1,a=new Array(n),o=te(e,a,0,a.length);return r&&(a.length=o),a}var ae,oe={ttys:[],init(){},shutdown(){},register(e,r){oe.ttys[e]={input:[],output:[],ops:r},le.registerDevice(e,oe.stream_ops)},stream_ops:{open(e){var r=oe.ttys[e.node.rdev];if(!r)throw new le.ErrnoError(43);e.tty=r,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,r,t,n,a){if(!e.tty||!e.tty.ops.get_char)throw new le.ErrnoError(60);for(var o=0,i=0;i<n;i++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new le.ErrnoError(29)}if(void 0===s&&0===o)throw new le.ErrnoError(6);if(null==s)break;o++,r[t+i]=s}return o&&(e.node.timestamp=Date.now()),o},write(e,r,t,n,a){if(!e.tty||!e.tty.ops.put_char)throw new le.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,r[t+o])}catch(e){throw new le.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:e=>(()=>{if(!ee.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;ee=ne(e,!0)}return ee.shift()})(),put_char(e,r){null===r||10===r?(m(Z(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},fsync(e){e.output&&e.output.length>0&&(m(Z(e.output,0)),e.output=[])},ioctl_tcgets:e=>({c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}),ioctl_tcsets:(e,r,t)=>0,ioctl_tiocgwinsz:e=>[24,80]},default_tty1_ops:{put_char(e,r){null===r||10===r?(v(Z(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},fsync(e){e.output&&e.output.length>0&&(v(Z(e.output,0)),e.output=[])}}},ie=e=>{B()},se={ops_table:null,mount:e=>se.createNode(null,"/",16895,0),createNode(e,r,t,n){if(le.isBlkdev(t)||le.isFIFO(t))throw new le.ErrnoError(63);se.ops_table||={dir:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,lookup:se.node_ops.lookup,mknod:se.node_ops.mknod,rename:se.node_ops.rename,unlink:se.node_ops.unlink,rmdir:se.node_ops.rmdir,readdir:se.node_ops.readdir,symlink:se.node_ops.symlink},stream:{llseek:se.stream_ops.llseek}},file:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:{llseek:se.stream_ops.llseek,read:se.stream_ops.read,write:se.stream_ops.write,allocate:se.stream_ops.allocate,mmap:se.stream_ops.mmap,msync:se.stream_ops.msync}},link:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr,readlink:se.node_ops.readlink},stream:{}},chrdev:{node:{getattr:se.node_ops.getattr,setattr:se.node_ops.setattr},stream:le.chrdev_stream_ops}};var a=le.createNode(e,r,t,n);return le.isDir(a.mode)?(a.node_ops=se.ops_table.dir.node,a.stream_ops=se.ops_table.dir.stream,a.contents={}):le.isFile(a.mode)?(a.node_ops=se.ops_table.file.node,a.stream_ops=se.ops_table.file.stream,a.usedBytes=0,a.contents=null):le.isLink(a.mode)?(a.node_ops=se.ops_table.link.node,a.stream_ops=se.ops_table.link.stream):le.isChrdev(a.mode)&&(a.node_ops=se.ops_table.chrdev.node,a.stream_ops=se.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[r]=a,e.timestamp=a.timestamp),a},getFileDataAsTypedArray:e=>e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0),expandFileStorage(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)>>>0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,r){if(e.usedBytes!=r)if(0==r)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr(e){var r={};return r.dev=le.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,le.isDir(e.mode)?r.size=4096:le.isFile(e.mode)?r.size=e.usedBytes:le.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&se.resizeFileStorage(e,r.size)},lookup(e,r){throw le.genericErrors[44]},mknod:(e,r,t,n)=>se.createNode(e,r,t,n),rename(e,r,t){if(le.isDir(e.mode)){var n;try{n=le.lookupNode(r,t)}catch(e){}if(n)for(var a in n.contents)throw new le.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir(e,r){var t=le.lookupNode(e,r);for(var n in t.contents)throw new le.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir(e){var r=[".",".."];for(var t of Object.keys(e.contents))r.push(t);return r},symlink(e,r,t){var n=se.createNode(e,r,41471,0);return n.link=t,n},readlink(e){if(!le.isLink(e.mode))throw new le.ErrnoError(28);return e.link}},stream_ops:{read(e,r,t,n,a){var o=e.node.contents;if(a>=e.node.usedBytes)return 0;var i=Math.min(e.node.usedBytes-a,n);if(i>8&&o.subarray)r.set(o.subarray(a,a+i),t);else for(var s=0;s<i;s++)r[t+s]=o[a+s];return i},write(e,r,t,n,a,o){if(r.buffer===g.buffer&&(o=!1),!n)return 0;var i=e.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(o)return i.contents=r.subarray(t,t+n),i.usedBytes=n,n;if(0===i.usedBytes&&0===a)return i.contents=r.slice(t,t+n),i.usedBytes=n,n;if(a+n<=i.usedBytes)return i.contents.set(r.subarray(t,t+n),a),n}if(se.expandFileStorage(i,a+n),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(t,t+n),a);else for(var s=0;s<n;s++)i.contents[a+s]=r[t+s];return i.usedBytes=Math.max(i.usedBytes,a+n),n},llseek(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&le.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new le.ErrnoError(28);return n},allocate(e,r,t){se.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap(e,r,t,n,a){if(!le.isFile(e.node.mode))throw new le.ErrnoError(43);var o,i,s=e.node.contents;if(2&a||s.buffer!==g.buffer){if((t>0||t+r<s.length)&&(s=s.subarray?s.subarray(t,t+r):Array.prototype.slice.call(s,t,t+r)),i=!0,!(o=ie()))throw new le.ErrnoError(48);g.set(s,o)}else i=!1,o=s.byteOffset;return{ptr:o,allocated:i}},msync:(e,r,t,n,a)=>(se.stream_ops.write(e,r,0,n,t,!1),0)}},ue=a.preloadPlugins||[],ce=(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},le={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name="ErrnoError",this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(e){this.node=e}get isRead(){return 1!=(2097155&this.flags)}get isWrite(){return 0!=(2097155&this.flags)}get isAppend(){return 1024&this.flags}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=le.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return le.isDir(this.mode)}get isDevice(){return le.isChrdev(this.mode)}},lookupPath(e,r={}){if(!(e=K.resolve(e)))return{path:"",node:null};if((r=Object.assign({follow_mount:!0,recurse_count:0},r)).recurse_count>8)throw new le.ErrnoError(32);for(var t=e.split("/").filter((e=>!!e)),n=le.root,a="/",o=0;o<t.length;o++){var i=o===t.length-1;if(i&&r.parent)break;if(n=le.lookupNode(n,t[o]),a=$.join2(a,t[o]),le.isMountpoint(n)&&(!i||i&&r.follow_mount)&&(n=n.mounted.root),!i||r.follow)for(var s=0;le.isLink(n.mode);){var u=le.readlink(a);if(a=K.resolve($.dirname(a),u),n=le.lookupPath(a,{recurse_count:r.recurse_count+1}).node,s++>40)throw new le.ErrnoError(32)}}return{path:a,node:n}},getPath(e){for(var r;;){if(le.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?`${t}/${r}`:t+r:t}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%le.nameTable.length},hashAddNode(e){var r=le.hashName(e.parent.id,e.name);e.name_next=le.nameTable[r],le.nameTable[r]=e},hashRemoveNode(e){var r=le.hashName(e.parent.id,e.name);if(le.nameTable[r]===e)le.nameTable[r]=e.name_next;else for(var t=le.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,r){var t=le.mayLookup(e);if(t)throw new le.ErrnoError(t);for(var n=le.hashName(e.id,r),a=le.nameTable[n];a;a=a.name_next){var o=a.name;if(a.parent.id===e.id&&o===r)return a}return le.lookup(e,r)},createNode(e,r,t,n){var a=new le.FSNode(e,r,t,n);return le.hashAddNode(a),a},destroyNode(e){le.hashRemoveNode(e)},isRoot:e=>e===e.parent,isMountpoint:e=>!!e.mounted,isFile:e=>32768==(61440&e),isDir:e=>16384==(61440&e),isLink:e=>40960==(61440&e),isChrdev:e=>8192==(61440&e),isBlkdev:e=>24576==(61440&e),isFIFO:e=>4096==(61440&e),isSocket:e=>49152==(49152&e),flagsToPermissionString(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:(e,r)=>le.ignorePermissions||(!r.includes("r")||292&e.mode)&&(!r.includes("w")||146&e.mode)&&(!r.includes("x")||73&e.mode)?0:2,mayLookup:e=>le.isDir(e.mode)?le.nodePermissions(e,"x")||(e.node_ops.lookup?0:2):54,mayCreate(e,r){try{return le.lookupNode(e,r),20}catch(e){}return le.nodePermissions(e,"wx")},mayDelete(e,r,t){var n;try{n=le.lookupNode(e,r)}catch(e){return e.errno}var a=le.nodePermissions(e,"wx");if(a)return a;if(t){if(!le.isDir(n.mode))return 54;if(le.isRoot(n)||le.getPath(n)===le.cwd())return 10}else if(le.isDir(n.mode))return 31;return 0},mayOpen:(e,r)=>e?le.isLink(e.mode)?32:le.isDir(e.mode)&&("r"!==le.flagsToPermissionString(r)||512&r)?31:le.nodePermissions(e,le.flagsToPermissionString(r)):44,MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=le.MAX_OPEN_FDS;e++)if(!le.streams[e])return e;throw new le.ErrnoError(33)},getStreamChecked(e){var r=le.getStream(e);if(!r)throw new le.ErrnoError(8);return r},getStream:e=>le.streams[e],createStream:(e,r=-1)=>(e=Object.assign(new le.FSStream,e),-1==r&&(r=le.nextfd()),e.fd=r,le.streams[r]=e,e),closeStream(e){le.streams[e]=null},dupStream(e,r=-1){var t=le.createStream(e,r);return t.stream_ops?.dup?.(t),t},chrdev_stream_ops:{open(e){var r=le.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new le.ErrnoError(70)}},major:e=>e>>8,minor:e=>255&e,makedev:(e,r)=>e<<8|r,registerDevice(e,r){le.devices[e]={stream_ops:r}},getDevice:e=>le.devices[e],getMounts(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push(...n.mounts)}return r},syncfs(e,r){"function"==typeof e&&(r=e,e=!1),le.syncFSRequests++,le.syncFSRequests>1&&v(`warning: ${le.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=le.getMounts(le.root.mount),n=0;function a(e){return le.syncFSRequests--,r(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,a(e));++n>=t.length&&a(null)}t.forEach((r=>{if(!r.type.syncfs)return o(null);r.type.syncfs(r,e,o)}))},mount(e,r,t){var n,a="/"===t,o=!t;if(a&&le.root)throw new le.ErrnoError(10);if(!a&&!o){var i=le.lookupPath(t,{follow_mount:!1});if(t=i.path,n=i.node,le.isMountpoint(n))throw new le.ErrnoError(10);if(!le.isDir(n.mode))throw new le.ErrnoError(54)}var s={type:e,opts:r,mountpoint:t,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,a?le.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount(e){var r=le.lookupPath(e,{follow_mount:!1});if(!le.isMountpoint(r.node))throw new le.ErrnoError(28);var t=r.node,n=t.mounted,a=le.getMounts(n);Object.keys(le.nameTable).forEach((e=>{for(var r=le.nameTable[e];r;){var t=r.name_next;a.includes(r.mount)&&le.destroyNode(r),r=t}})),t.mounted=null;var o=t.mount.mounts.indexOf(n);t.mount.mounts.splice(o,1)},lookup:(e,r)=>e.node_ops.lookup(e,r),mknod(e,r,t){var n=le.lookupPath(e,{parent:!0}).node,a=$.basename(e);if(!a||"."===a||".."===a)throw new le.ErrnoError(28);var o=le.mayCreate(n,a);if(o)throw new le.ErrnoError(o);if(!n.node_ops.mknod)throw new le.ErrnoError(63);return n.node_ops.mknod(n,a,r,t)},create:(e,r)=>(r=void 0!==r?r:438,r&=4095,r|=32768,le.mknod(e,r,0)),mkdir:(e,r)=>(r=void 0!==r?r:511,r&=1023,r|=16384,le.mknod(e,r,0)),mkdirTree(e,r){for(var t=e.split("/"),n="",a=0;a<t.length;++a)if(t[a]){n+="/"+t[a];try{le.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:(e,r,t)=>(void 0===t&&(t=r,r=438),r|=8192,le.mknod(e,r,t)),symlink(e,r){if(!K.resolve(e))throw new le.ErrnoError(44);var t=le.lookupPath(r,{parent:!0}).node;if(!t)throw new le.ErrnoError(44);var n=$.basename(r),a=le.mayCreate(t,n);if(a)throw new le.ErrnoError(a);if(!t.node_ops.symlink)throw new le.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename(e,r){var t,n,a=$.dirname(e),o=$.dirname(r),i=$.basename(e),s=$.basename(r);if(t=le.lookupPath(e,{parent:!0}).node,n=le.lookupPath(r,{parent:!0}).node,!t||!n)throw new le.ErrnoError(44);if(t.mount!==n.mount)throw new le.ErrnoError(75);var u,c=le.lookupNode(t,i),l=K.relative(e,o);if("."!==l.charAt(0))throw new le.ErrnoError(28);if("."!==(l=K.relative(r,a)).charAt(0))throw new le.ErrnoError(55);try{u=le.lookupNode(n,s)}catch(e){}if(c!==u){var d=le.isDir(c.mode),f=le.mayDelete(t,i,d);if(f)throw new le.ErrnoError(f);if(f=u?le.mayDelete(n,s,d):le.mayCreate(n,s))throw new le.ErrnoError(f);if(!t.node_ops.rename)throw new le.ErrnoError(63);if(le.isMountpoint(c)||u&&le.isMountpoint(u))throw new le.ErrnoError(10);if(n!==t&&(f=le.nodePermissions(t,"w")))throw new le.ErrnoError(f);le.hashRemoveNode(c);try{t.node_ops.rename(c,n,s)}catch(e){throw e}finally{le.hashAddNode(c)}}},rmdir(e){var r=le.lookupPath(e,{parent:!0}).node,t=$.basename(e),n=le.lookupNode(r,t),a=le.mayDelete(r,t,!0);if(a)throw new le.ErrnoError(a);if(!r.node_ops.rmdir)throw new le.ErrnoError(63);if(le.isMountpoint(n))throw new le.ErrnoError(10);r.node_ops.rmdir(r,t),le.destroyNode(n)},readdir(e){var r=le.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new le.ErrnoError(54);return r.node_ops.readdir(r)},unlink(e){var r=le.lookupPath(e,{parent:!0}).node;if(!r)throw new le.ErrnoError(44);var t=$.basename(e),n=le.lookupNode(r,t),a=le.mayDelete(r,t,!1);if(a)throw new le.ErrnoError(a);if(!r.node_ops.unlink)throw new le.ErrnoError(63);if(le.isMountpoint(n))throw new le.ErrnoError(10);r.node_ops.unlink(r,t),le.destroyNode(n)},readlink(e){var r=le.lookupPath(e).node;if(!r)throw new le.ErrnoError(44);if(!r.node_ops.readlink)throw new le.ErrnoError(28);return K.resolve(le.getPath(r.parent),r.node_ops.readlink(r))},stat(e,r){var t=le.lookupPath(e,{follow:!r}).node;if(!t)throw new le.ErrnoError(44);if(!t.node_ops.getattr)throw new le.ErrnoError(63);return t.node_ops.getattr(t)},lstat:e=>le.stat(e,!0),chmod(e,r,t){var n;if(!(n="string"==typeof e?le.lookupPath(e,{follow:!t}).node:e).node_ops.setattr)throw new le.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&r|-4096&n.mode,timestamp:Date.now()})},lchmod(e,r){le.chmod(e,r,!0)},fchmod(e,r){var t=le.getStreamChecked(e);le.chmod(t.node,r)},chown(e,r,t,n){var a;if(!(a="string"==typeof e?le.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new le.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown(e,r,t){le.chown(e,r,t,!0)},fchown(e,r,t){var n=le.getStreamChecked(e);le.chown(n.node,r,t)},truncate(e,r){if(r<0)throw new le.ErrnoError(28);var t;if(!(t="string"==typeof e?le.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new le.ErrnoError(63);if(le.isDir(t.mode))throw new le.ErrnoError(31);if(!le.isFile(t.mode))throw new le.ErrnoError(28);var n=le.nodePermissions(t,"w");if(n)throw new le.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate(e,r){var t=le.getStreamChecked(e);if(0==(2097155&t.flags))throw new le.ErrnoError(28);le.truncate(t.node,r)},utime(e,r,t){var n=le.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open(e,r,t){if(""===e)throw new le.ErrnoError(44);var n;if(t=void 0===t?438:t,t=64&(r="string"==typeof r?(e=>{var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(void 0===r)throw new Error(`Unknown file open mode: ${e}`);return r})(r):r)?4095&t|32768:0,"object"==typeof e)n=e;else{e=$.normalize(e);try{n=le.lookupPath(e,{follow:!(131072&r)}).node}catch(e){}}var o=!1;if(64&r)if(n){if(128&r)throw new le.ErrnoError(20)}else n=le.mknod(e,t,0),o=!0;if(!n)throw new le.ErrnoError(44);if(le.isChrdev(n.mode)&&(r&=-513),65536&r&&!le.isDir(n.mode))throw new le.ErrnoError(54);if(!o){var i=le.mayOpen(n,r);if(i)throw new le.ErrnoError(i)}512&r&&!o&&le.truncate(n,0),r&=-131713;var s=le.createStream({node:n,path:le.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),!a.logReadFiles||1&r||(le.readFiles||(le.readFiles={}),e in le.readFiles||(le.readFiles[e]=1)),s},close(e){if(le.isClosed(e))throw new le.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{le.closeStream(e.fd)}e.fd=null},isClosed:e=>null===e.fd,llseek(e,r,t){if(le.isClosed(e))throw new le.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new le.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new le.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read(e,r,t,n,a){if(n<0||a<0)throw new le.ErrnoError(28);if(le.isClosed(e))throw new le.ErrnoError(8);if(1==(2097155&e.flags))throw new le.ErrnoError(8);if(le.isDir(e.node.mode))throw new le.ErrnoError(31);if(!e.stream_ops.read)throw new le.ErrnoError(28);var o=void 0!==a;if(o){if(!e.seekable)throw new le.ErrnoError(70)}else a=e.position;var i=e.stream_ops.read(e,r,t,n,a);return o||(e.position+=i),i},write(e,r,t,n,a,o){if(n<0||a<0)throw new le.ErrnoError(28);if(le.isClosed(e))throw new le.ErrnoError(8);if(0==(2097155&e.flags))throw new le.ErrnoError(8);if(le.isDir(e.node.mode))throw new le.ErrnoError(31);if(!e.stream_ops.write)throw new le.ErrnoError(28);e.seekable&&1024&e.flags&&le.llseek(e,0,2);var i=void 0!==a;if(i){if(!e.seekable)throw new le.ErrnoError(70)}else a=e.position;var s=e.stream_ops.write(e,r,t,n,a,o);return i||(e.position+=s),s},allocate(e,r,t){if(le.isClosed(e))throw new le.ErrnoError(8);if(r<0||t<=0)throw new le.ErrnoError(28);if(0==(2097155&e.flags))throw new le.ErrnoError(8);if(!le.isFile(e.node.mode)&&!le.isDir(e.node.mode))throw new le.ErrnoError(43);if(!e.stream_ops.allocate)throw new le.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap(e,r,t,n,a){if(0!=(2&n)&&0==(2&a)&&2!=(2097155&e.flags))throw new le.ErrnoError(2);if(1==(2097155&e.flags))throw new le.ErrnoError(2);if(!e.stream_ops.mmap)throw new le.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,a)},msync:(e,r,t,n,a)=>e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,a):0,ioctl(e,r,t){if(!e.stream_ops.ioctl)throw new le.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile(e,r={}){if(r.flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error(`Invalid encoding type "${r.encoding}"`);var t,n=le.open(e,r.flags),a=le.stat(e).size,o=new Uint8Array(a);return le.read(n,o,0,a,0),"utf8"===r.encoding?t=Z(o,0):"binary"===r.encoding&&(t=o),le.close(n),t},writeFile(e,r,t={}){t.flags=t.flags||577;var n=le.open(e,t.flags,t.mode);if("string"==typeof r){var a=new Uint8Array(re(r)+1),o=te(r,a,0,a.length);le.write(n,a,0,o,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");le.write(n,r,0,r.byteLength,void 0,t.canOwn)}le.close(n)},cwd:()=>le.currentPath,chdir(e){var r=le.lookupPath(e,{follow:!0});if(null===r.node)throw new le.ErrnoError(44);if(!le.isDir(r.node.mode))throw new le.ErrnoError(54);var t=le.nodePermissions(r.node,"x");if(t)throw new le.ErrnoError(t);le.currentPath=r.path},createDefaultDirectories(){le.mkdir("/tmp"),le.mkdir("/home"),le.mkdir("/home/web_user")},createDefaultDevices(){le.mkdir("/dev"),le.registerDevice(le.makedev(1,3),{read:()=>0,write:(e,r,t,n,a)=>n}),le.mkdev("/dev/null",le.makedev(1,3)),oe.register(le.makedev(5,0),oe.default_tty_ops),oe.register(le.makedev(6,0),oe.default_tty1_ops),le.mkdev("/dev/tty",le.makedev(5,0)),le.mkdev("/dev/tty1",le.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(0===r&&(r=Q(e).byteLength),e[--r]);le.createDevice("/dev","random",t),le.createDevice("/dev","urandom",t),le.mkdir("/dev/shm"),le.mkdir("/dev/shm/tmp")},createSpecialDirectories(){le.mkdir("/proc");var e=le.mkdir("/proc/self");le.mkdir("/proc/self/fd"),le.mount({mount(){var r=le.createNode(e,"fd",16895,73);return r.node_ops={lookup(e,r){var t=+r,n=le.getStreamChecked(t),a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>n.path}};return a.parent=a,a}},r}},{},"/proc/self/fd")},createStandardStreams(){a.stdin?le.createDevice("/dev","stdin",a.stdin):le.symlink("/dev/tty","/dev/stdin"),a.stdout?le.createDevice("/dev","stdout",null,a.stdout):le.symlink("/dev/tty","/dev/stdout"),a.stderr?le.createDevice("/dev","stderr",null,a.stderr):le.symlink("/dev/tty1","/dev/stderr"),le.open("/dev/stdin",0),le.open("/dev/stdout",1),le.open("/dev/stderr",1)},staticInit(){[44].forEach((e=>{le.genericErrors[e]=new le.ErrnoError(e),le.genericErrors[e].stack="<generic error, no stack>"})),le.nameTable=new Array(4096),le.mount(se,{},"/"),le.createDefaultDirectories(),le.createDefaultDevices(),le.createSpecialDirectories(),le.filesystems={MEMFS:se}},init(e,r,t){le.init.initialized=!0,a.stdin=e||a.stdin,a.stdout=r||a.stdout,a.stderr=t||a.stderr,le.createStandardStreams()},quit(){le.init.initialized=!1;for(var e=0;e<le.streams.length;e++){var r=le.streams[e];r&&le.close(r)}},findObject(e,r){var t=le.analyzePath(e,r);return t.exists?t.object:null},analyzePath(e,r){try{e=(n=le.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=le.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=$.basename(e),n=le.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createPath(e,r,t,n){e="string"==typeof e?e:le.getPath(e);for(var a=r.split("/").reverse();a.length;){var o=a.pop();if(o){var i=$.join2(e,o);try{le.mkdir(i)}catch(e){}e=i}}return i},createFile(e,r,t,n,a){var o=$.join2("string"==typeof e?e:le.getPath(e),r),i=ce(n,a);return le.create(o,i)},createDataFile(e,r,t,n,a,o){var i=r;e&&(e="string"==typeof e?e:le.getPath(e),i=r?$.join2(e,r):e);var s=ce(n,a),u=le.create(i,s);if(t){if("string"==typeof t){for(var c=new Array(t.length),l=0,d=t.length;l<d;++l)c[l]=t.charCodeAt(l);t=c}le.chmod(u,146|s);var f=le.open(u,577);le.write(f,t,0,t.length,0,o),le.close(f),le.chmod(u,s)}},createDevice(e,r,t,n){var a=$.join2("string"==typeof e?e:le.getPath(e),r),o=ce(!!t,!!n);le.createDevice.major||(le.createDevice.major=64);var i=le.makedev(le.createDevice.major++,0);return le.registerDevice(i,{open(e){e.seekable=!1},close(e){n?.buffer?.length&&n(10)},read(e,r,n,a,o){for(var i=0,s=0;s<a;s++){var u;try{u=t()}catch(e){throw new le.ErrnoError(29)}if(void 0===u&&0===i)throw new le.ErrnoError(6);if(null==u)break;i++,r[n+s]=u}return i&&(e.node.timestamp=Date.now()),i},write(e,r,t,a,o){for(var i=0;i<a;i++)try{n(r[t+i])}catch(e){throw new le.ErrnoError(29)}return a&&(e.node.timestamp=Date.now()),i}}),le.mkdev(a,o,i)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!o)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=ne(o(e.url),!0),e.usedBytes=e.contents.length}catch(e){throw new le.ErrnoError(29)}},createLazyFile(e,r,t,n,a){if("undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o={isDevice:!1,url:t},i=le.createFile(e,r,o,n,a);o.contents?i.contents=o.contents:o.url&&(i.contents=null,i.url=o.url),Object.defineProperties(i,{usedBytes:{get:function(){return this.contents.length}}});var s={};function u(e,r,t,n,a){var o=e.node.contents;if(a>=o.length)return 0;var i=Math.min(o.length-a,n);if(o.slice)for(var s=0;s<i;s++)r[t+s]=o[a+s];else for(s=0;s<i;s++)r[t+s]=o.get(a+s);return i}return Object.keys(i.stream_ops).forEach((e=>{var r=i.stream_ops[e];s[e]=(...e)=>(le.forceLoadFile(i),r(...e))})),s.read=(e,r,t,n,a)=>(le.forceLoadFile(i),u(e,r,t,n,a)),s.mmap=(e,r,t,n,a)=>{le.forceLoadFile(i);var o=ie();if(!o)throw new le.ErrnoError(48);return u(e,g,o,r,t),{ptr:o,allocated:!0}},i.stream_ops=s,i}},de=(e,r)=>e?Z(h,e,r):"",fe={DEFAULT_POLLMASK:5,calculateAt(e,r,t){if($.isAbs(r))return r;var n;if(n=-100===e?le.cwd():fe.getStreamFromFD(e).path,0==r.length){if(!t)throw new le.ErrnoError(44);return n}return $.join2(n,r)},doStat(e,r,t){var n=e(r);w[t>>2]=n.dev,w[t+4>>2]=n.mode,E[t+8>>2]=n.nlink,w[t+12>>2]=n.uid,w[t+16>>2]=n.gid,w[t+20>>2]=n.rdev,O=[n.size>>>0,(N=n.size,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],w[t+24>>2]=O[0],w[t+28>>2]=O[1],w[t+32>>2]=4096,w[t+36>>2]=n.blocks;var a=n.atime.getTime(),o=n.mtime.getTime(),i=n.ctime.getTime();return O=[Math.floor(a/1e3)>>>0,(N=Math.floor(a/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],w[t+40>>2]=O[0],w[t+44>>2]=O[1],E[t+48>>2]=a%1e3*1e3,O=[Math.floor(o/1e3)>>>0,(N=Math.floor(o/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],w[t+56>>2]=O[0],w[t+60>>2]=O[1],E[t+64>>2]=o%1e3*1e3,O=[Math.floor(i/1e3)>>>0,(N=Math.floor(i/1e3),+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],w[t+72>>2]=O[0],w[t+76>>2]=O[1],E[t+80>>2]=i%1e3*1e3,O=[n.ino>>>0,(N=n.ino,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],w[t+88>>2]=O[0],w[t+92>>2]=O[1],0},doMsync(e,r,t,n,a){if(!le.isFile(r.node.mode))throw new le.ErrnoError(43);if(2&n)return 0;var o=h.slice(e,e+t);le.msync(r,o,a,t,n)},varargs:void 0,get(){var e=w[+fe.varargs>>2];return fe.varargs+=4,e},getp:()=>fe.get(),getStr:e=>de(e),getStreamFromFD:e=>le.getStreamChecked(e)},me=(e,r)=>{if(xe.mainLoop.timingMode=e,xe.mainLoop.timingValue=r,!xe.mainLoop.func)return 1;if(xe.mainLoop.running||(xe.mainLoop.running=!0),0==e)xe.mainLoop.scheduler=function(){var e=0|Math.max(0,xe.mainLoop.tickStartTime+r-ae());setTimeout(xe.mainLoop.runner,e)},xe.mainLoop.method="timeout";else if(1==e)xe.mainLoop.scheduler=function(){xe.requestAnimationFrame(xe.mainLoop.runner)},xe.mainLoop.method="rAF";else if(2==e){if(void 0===xe.setImmediate)if("undefined"==typeof setImmediate){var t=[],n="setimmediate";addEventListener("message",(e=>{e.data!==n&&e.data.target!==n||(e.stopPropagation(),t.shift()())}),!0),xe.setImmediate=function(e){t.push(e),postMessage(n,"*")}}else xe.setImmediate=setImmediate;xe.mainLoop.scheduler=function(){xe.setImmediate(xe.mainLoop.runner)},xe.mainLoop.method="immediate"}return 0};ae=()=>performance.now();var ve,pe=(e,r,t,n,a)=>{xe.mainLoop.func=e,xe.mainLoop.arg=n;var o=xe.mainLoop.currentlyRunningMainloop;function i(){return!(o<xe.mainLoop.currentlyRunningMainloop)}if(xe.mainLoop.running=!1,xe.mainLoop.runner=function(){if(!k)if(xe.mainLoop.queue.length>0){Date.now();var r=xe.mainLoop.queue.shift();if(r.func(r.arg),xe.mainLoop.remainingBlockers){var t=xe.mainLoop.remainingBlockers,n=t%1==0?t-1:Math.floor(t);r.counted?xe.mainLoop.remainingBlockers=n:(n+=.5,xe.mainLoop.remainingBlockers=(8*t+n)/9)}if(xe.mainLoop.updateStatus(),!i())return;setTimeout(xe.mainLoop.runner,0)}else i()&&(xe.mainLoop.currentFrameNumber=xe.mainLoop.currentFrameNumber+1|0,1==xe.mainLoop.timingMode&&xe.mainLoop.timingValue>1&&xe.mainLoop.currentFrameNumber%xe.mainLoop.timingValue!=0?xe.mainLoop.scheduler():(0==xe.mainLoop.timingMode&&(xe.mainLoop.tickStartTime=ae()),xe.mainLoop.runIter(e),i()&&("object"==typeof SDL&&SDL.audio?.queueNewAudioData?.(),xe.mainLoop.scheduler())))},a||(r&&r>0?me(0,1e3/r):me(1,1),xe.mainLoop.scheduler()),t)throw"unwind"},ge=e=>{if(e instanceof H||"unwind"==e)return p;c(1,e)},he=()=>X||!1,be=(e,r)=>{var t;p=e,p=t=e,he()||(a.onExit?.(t),k=!0),c(t,new H(t))},ye=be,we=e=>{if(!k)try{e(),(()=>{if(!he())try{ye(p)}catch(e){ge(e)}})()}catch(e){ge(e)}},Ee=(e,r)=>setTimeout((()=>{we(e)}),r),xe={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause(){xe.mainLoop.scheduler=null,xe.mainLoop.currentlyRunningMainloop++},resume(){xe.mainLoop.currentlyRunningMainloop++;var e=xe.mainLoop.timingMode,r=xe.mainLoop.timingValue,t=xe.mainLoop.func;xe.mainLoop.func=null,pe(t,0,!1,xe.mainLoop.arg,!0),me(e,r),xe.mainLoop.scheduler()},updateStatus(){if(a.setStatus){var e=a.statusMessage||"Please wait...",r=xe.mainLoop.remainingBlockers,t=xe.mainLoop.expectedBlockers;r?r<t?a.setStatus("{message} ({expected - remaining}/{expected})"):a.setStatus(e):a.setStatus("")}},runIter(e){if(!k){if(a.preMainLoop&&!1===a.preMainLoop())return;we(e),a.postMainLoop?.()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init(){if(!xe.initted){xe.initted=!0;var e={canHandle:function(e){return!a.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,r,t,n){var a=new Blob([e],{type:xe.getMimetype(r)});a.size!==e.length&&(a=new Blob([new Uint8Array(e).buffer],{type:xe.getMimetype(r)}));var o=URL.createObjectURL(a),i=new Image;i.onload=()=>{var n=document.createElement("canvas");n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(i,0,0),ha[r]=n,URL.revokeObjectURL(o),t?.(e)},i.onerror=e=>{v(`Image ${o} could not be decoded`),n?.()},i.src=o}};ue.push(e);var r={canHandle:function(e){return!a.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,r,t,n){var a=!1;function o(n){a||(a=!0,ba[r]=n,t?.(e))}var i=new Blob([e],{type:xe.getMimetype(r)}),s=URL.createObjectURL(i),u=new Audio;u.addEventListener("canplaythrough",(()=>o(u)),!1),u.onerror=function(t){a||(v(`warning: browser could not fully decode audio ${r}, trying slower base64 approach`),u.src="data:audio/x-"+r.substr(-3)+";base64,"+function(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="",n=0,a=0,o=0;o<e.length;o++)for(n=n<<8|e[o],a+=8;a>=6;){var i=n>>a-6&63;a-=6,t+=r[i]}return 2==a?(t+=r[(3&n)<<4],t+="=="):4==a&&(t+=r[(15&n)<<2],t+="="),t}(e),o(u))},u.src=s,Ee((()=>{o(u)}),1e4)}};ue.push(r);var t=a.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||(()=>{}),t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",n,!1),document.addEventListener("mozpointerlockchange",n,!1),document.addEventListener("webkitpointerlockchange",n,!1),document.addEventListener("mspointerlockchange",n,!1),a.elementPointerLock&&t.addEventListener("click",(e=>{!xe.pointerLock&&a.canvas.requestPointerLock&&(a.canvas.requestPointerLock(),e.preventDefault())}),!1))}function n(){xe.pointerLock=document.pointerLockElement===a.canvas||document.mozPointerLockElement===a.canvas||document.webkitPointerLockElement===a.canvas||document.msPointerLockElement===a.canvas}},createContext(e,r,t,n){if(r&&a.ctx&&e==a.canvas)return a.ctx;var o,i;if(r){var s={antialias:!1,alpha:!1,majorVersion:"undefined"!=typeof WebGL2RenderingContext?2:1};if(n)for(var u in n)s[u]=n[u];void 0!==Ce&&(i=Ce.createContext(e,s))&&(o=Ce.getContext(i).GLctx)}else o=e.getContext("2d");return o?(t&&(a.ctx=o,r&&Ce.makeContextCurrent(i),a.useWebGL=r,xe.moduleContextCreatedCallbacks.forEach((e=>e())),xe.init()),o):null},destroyContext(e,r,t){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(e,r){xe.lockPointer=e,xe.resizeCanvas=r,void 0===xe.lockPointer&&(xe.lockPointer=!0),void 0===xe.resizeCanvas&&(xe.resizeCanvas=!1);var t=a.canvas;function n(){xe.isFullscreen=!1;var e=t.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(t.exitFullscreen=xe.exitFullscreen,xe.lockPointer&&t.requestPointerLock(),xe.isFullscreen=!0,xe.resizeCanvas?xe.setFullscreenCanvasSize():xe.updateCanvasDimensions(t)):(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e),xe.resizeCanvas?xe.setWindowedCanvasSize():xe.updateCanvasDimensions(t)),a.onFullScreen?.(xe.isFullscreen),a.onFullscreen?.(xe.isFullscreen)}xe.fullscreenHandlersInstalled||(xe.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",n,!1),document.addEventListener("mozfullscreenchange",n,!1),document.addEventListener("webkitfullscreenchange",n,!1),document.addEventListener("MSFullscreenChange",n,!1));var o=document.createElement("div");t.parentNode.insertBefore(o,t),o.appendChild(t),o.requestFullscreen=o.requestFullscreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullscreen?()=>o.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(o.webkitRequestFullScreen?()=>o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),o.requestFullscreen()},exitFullscreen:()=>!!xe.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]),!0),nextRAF:0,fakeRequestAnimationFrame(e){var r=Date.now();if(0===xe.nextRAF)xe.nextRAF=r+1e3/60;else for(;r+2>=xe.nextRAF;)xe.nextRAF+=1e3/60;var t=Math.max(xe.nextRAF-r,0);setTimeout(e,t)},requestAnimationFrame(e){"function"!=typeof requestAnimationFrame?(0,xe.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)},safeSetTimeout:(e,r)=>Ee(e,r),safeRequestAnimationFrame:e=>xe.requestAnimationFrame((()=>{we(e)})),getMimetype:e=>({jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]),getUserMedia(e){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(e)},getMovementX:e=>e.movementX||e.mozMovementX||e.webkitMovementX||0,getMovementY:e=>e.movementY||e.mozMovementY||e.webkitMovementY||0,getMouseWheelDelta(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail/3;break;case"mousewheel":r=e.wheelDelta/120;break;case"wheel":switch(r=e.deltaY,e.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(e,r){var t=a.canvas.getBoundingClientRect(),n=a.canvas.width,o=a.canvas.height,i=void 0!==window.scrollX?window.scrollX:window.pageXOffset,s=void 0!==window.scrollY?window.scrollY:window.pageYOffset,u=e-(i+t.left),c=r-(s+t.top);return{x:u*=n/t.width,y:c*=o/t.height}},setMouseCoords(e,r){const{x:t,y:n}=xe.calculateMouseCoords(e,r);xe.mouseMovementX=t-xe.mouseX,xe.mouseMovementY=n-xe.mouseY,xe.mouseX=t,xe.mouseY=n},calculateMouseEvent(e){if(xe.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?xe.mouseMovementX=xe.mouseMovementY=0:(xe.mouseMovementX=xe.getMovementX(e),xe.mouseMovementY=xe.getMovementY(e)),"undefined"!=typeof SDL?(xe.mouseX=SDL.mouseX+xe.mouseMovementX,xe.mouseY=SDL.mouseY+xe.mouseMovementY):(xe.mouseX+=xe.mouseMovementX,xe.mouseY+=xe.mouseMovementY);else{if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var r=e.touch;if(void 0===r)return;var t=xe.calculateMouseCoords(r.pageX,r.pageY);if("touchstart"===e.type)xe.lastTouches[r.identifier]=t,xe.touches[r.identifier]=t;else if("touchend"===e.type||"touchmove"===e.type){var n=xe.touches[r.identifier];n||=t,xe.lastTouches[r.identifier]=n,xe.touches[r.identifier]=t}return}xe.setMouseCoords(e.pageX,e.pageY)}},resizeListeners:[],updateResizeListeners(){var e=a.canvas;xe.resizeListeners.forEach((r=>r(e.width,e.height)))},setCanvasSize(e,r,t){var n=a.canvas;xe.updateCanvasDimensions(n,e,r),t||xe.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if("undefined"!=typeof SDL){var e=E[SDL.screen>>2];e|=8388608,w[SDL.screen>>2]=e}xe.updateCanvasDimensions(a.canvas),xe.updateResizeListeners()},setWindowedCanvasSize(){if("undefined"!=typeof SDL){var e=E[SDL.screen>>2];e&=-8388609,w[SDL.screen>>2]=e}xe.updateCanvasDimensions(a.canvas),xe.updateResizeListeners()},updateCanvasDimensions(e,r,t){r&&t?(e.widthNative=r,e.heightNative=t):(r=e.widthNative,t=e.heightNative);var n=r,o=t;if(a.forcedAspectRatio&&a.forcedAspectRatio>0&&(n/o<a.forcedAspectRatio?n=Math.round(o*a.forcedAspectRatio):o=Math.round(n/a.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var i=Math.min(screen.width/n,screen.height/o);n=Math.round(n*i),o=Math.round(o*i)}xe.resizeCanvas?(e.width!=n&&(e.width=n),e.height!=o&&(e.height=o),void 0!==e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=r&&(e.width=r),e.height!=t&&(e.height=t),void 0!==e.style&&(n!=r||o!=t?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",o+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}},_e={errorCode:12288,defaultDisplayInitialized:!1,currentContext:0,currentReadSurface:0,currentDrawSurface:0,contextAttributes:{alpha:!1,depth:!1,stencil:!1,antialias:!1},stringCache:{},setErrorCode(e){_e.errorCode=e},chooseConfig(e,r,t,n,a){if(62e3!=e)return _e.setErrorCode(12296),0;if(r)for(;;){var o=w[r>>2];if(12321==o){var i=w[r+4>>2];_e.contextAttributes.alpha=i>0}else if(12325==o){var s=w[r+4>>2];_e.contextAttributes.depth=s>0}else if(12326==o){var u=w[r+4>>2];_e.contextAttributes.stencil=u>0}else if(12337==o){var c=w[r+4>>2];_e.contextAttributes.antialias=c>0}else if(12338==o)c=w[r+4>>2],_e.contextAttributes.antialias=1==c;else if(12544==o){var l=w[r+4>>2];_e.contextAttributes.lowLatency=12547!=l}else if(12344==o)break;r+=8}return t&&n||a?(a&&(w[a>>2]=1),t&&n>0&&(E[t>>2]=62002),_e.setErrorCode(12288),1):(_e.setErrorCode(12300),0)}},ke=e=>{var r=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_shader_texture_lod","EXT_sRGB","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_depth_texture","WEBGL_draw_buffers","EXT_color_buffer_float","EXT_conservative_depth","EXT_disjoint_timer_query_webgl2","EXT_texture_norm16","NV_shader_noperspective_interpolation","WEBGL_clip_cull_distance","EXT_color_buffer_half_float","EXT_depth_clamp","EXT_float_blend","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_texture_float_linear","WEBGL_blend_func_extended","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context","WEBGL_multi_draw"];return(e.getSupportedExtensions()||[]).filter((e=>r.includes(e)))},Ce={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],samplers:[],transformFeedbacks:[],syncs:[],stringCache:{},stringiCache:{},unpackAlignment:4,recordError:e=>{Ce.lastError||(Ce.lastError=e)},getNewId:e=>{for(var r=Ce.counter++,t=e.length;t<r;t++)e[t]=null;return r},genObject:(e,r,t,n)=>{for(var a=0;a<e;a++){var o=ga[t](),i=o&&Ce.getNewId(n);o?(o.name=i,n[i]=o):Ce.recordError(1282),w[r+4*a>>2]=i}},getSource:(e,r,t,n)=>{for(var a="",o=0;o<r;++o){var i=n?E[n+4*o>>2]:void 0;a+=de(E[t+4*o>>2],i)}return a},createContext:(e,r)=>{if(!e.getContextSafariWebGL2Fixed){function n(r,t){var n=e.getContextSafariWebGL2Fixed(r,t);return"webgl"==r==n instanceof WebGLRenderingContext?n:null}e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=n}var t=r.majorVersion>1?e.getContext("webgl2",r):e.getContext("webgl",r);return t?Ce.registerContext(t,r):0},registerContext:(e,r)=>{var t=Ce.getNewId(Ce.contexts),n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=n),Ce.contexts[t]=n,(void 0===r.enableExtensionsByDefault||r.enableExtensionsByDefault)&&Ce.initExtensions(n),t},makeContextCurrent:e=>(Ce.currentContext=Ce.contexts[e],a.ctx=ga=Ce.currentContext?.GLctx,!(e&&!ga)),getContext:e=>Ce.contexts[e],deleteContext:e=>{Ce.currentContext===Ce.contexts[e]&&(Ce.currentContext=null),"object"==typeof Me&&Me.removeAllHandlersOnTarget(Ce.contexts[e].GLctx.canvas),Ce.contexts[e]&&Ce.contexts[e].GLctx.canvas&&(Ce.contexts[e].GLctx.canvas.GLctxObject=void 0),Ce.contexts[e]=null},initExtensions:e=>{if(e||=Ce.currentContext,!e.initExtensionsDone){e.initExtensionsDone=!0;var r,t=e.GLctx;(e=>{var r=e.getExtension("ANGLE_instanced_arrays");r&&(e.vertexAttribDivisor=(e,t)=>r.vertexAttribDivisorANGLE(e,t),e.drawArraysInstanced=(e,t,n,a)=>r.drawArraysInstancedANGLE(e,t,n,a),e.drawElementsInstanced=(e,t,n,a,o)=>r.drawElementsInstancedANGLE(e,t,n,a,o))})(t),(e=>{var r=e.getExtension("OES_vertex_array_object");r&&(e.createVertexArray=()=>r.createVertexArrayOES(),e.deleteVertexArray=e=>r.deleteVertexArrayOES(e),e.bindVertexArray=e=>r.bindVertexArrayOES(e),e.isVertexArray=e=>r.isVertexArrayOES(e))})(t),(e=>{var r=e.getExtension("WEBGL_draw_buffers");r&&(e.drawBuffers=(e,t)=>r.drawBuffersWEBGL(e,t))})(t),(r=t).dibvbi=r.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),(e=>{e.mdibvbi=e.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance")})(t),e.version>=2&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query_webgl2")),(e.version<2||!t.disjointTimerQueryExt)&&(t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query")),(e=>{e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")})(t),ke(t).forEach((e=>{e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}},Le=(e,r,t)=>te(e,h,r,t),Se=e=>{var r=re(e)+1,t=La(r);return t&&Le(e,t,r),t},Fe=[],De=(e,r)=>{var t;for(Fe.length=0;t=h[e++];){var n=105!=t;r+=(n&=112!=t)&&r%8?4:0,Fe.push(112==t?E[r>>2]:105==t?w[r>>2]:_[r>>3]),r+=n?8:4}return Fe},Pe=(e,r,t,n)=>{var a=De(r,t);return q[e](...a)},Ae=e=>{var r=Sa(),t=e();return Fa(r),t},Me={removeAllEventListeners(){for(;Me.eventHandlers.length;)Me._removeHandler(Me.eventHandlers.length-1);Me.deferredCalls=[]},inEventHandler:0,deferredCalls:[],deferCall(e,r,t){function n(e,r){if(e.length!=r.length)return!1;for(var t in e)if(e[t]!=r[t])return!1;return!0}for(var a in Me.deferredCalls){var o=Me.deferredCalls[a];if(o.targetFunction==e&&n(o.argsList,t))return}Me.deferredCalls.push({targetFunction:e,precedence:r,argsList:t}),Me.deferredCalls.sort(((e,r)=>e.precedence<r.precedence))},removeDeferredCalls(e){for(var r=0;r<Me.deferredCalls.length;++r)Me.deferredCalls[r].targetFunction==e&&(Me.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:()=>navigator.userActivation?navigator.userActivation.isActive:Me.inEventHandler&&Me.currentEventHandler.allowsDeferredCalls,runDeferredCalls(){if(Me.canPerformEventHandlerRequests())for(var e=0;e<Me.deferredCalls.length;++e){var r=Me.deferredCalls[e];Me.deferredCalls.splice(e,1),--e,r.targetFunction(...r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:(e,r)=>{for(var t=0;t<Me.eventHandlers.length;++t)Me.eventHandlers[t].target!=e||r&&r!=Me.eventHandlers[t].eventTypeString||Me._removeHandler(t--)},_removeHandler(e){var r=Me.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),Me.eventHandlers.splice(e,1)},registerOrRemoveHandler(e){if(!e.target)return-4;if(e.callbackfunc)e.eventListenerFunc=function(r){++Me.inEventHandler,Me.currentEventHandler=e,Me.runDeferredCalls(),e.handlerFunc(r),Me.runDeferredCalls(),--Me.inEventHandler},e.target.addEventListener(e.eventTypeString,e.eventListenerFunc,e.useCapture),Me.eventHandlers.push(e);else for(var r=0;r<Me.eventHandlers.length;++r)Me.eventHandlers[r].target==e.target&&Me.eventHandlers[r].eventTypeString==e.eventTypeString&&Me._removeHandler(r--);return 0},getNodeNameForTarget:e=>e?e==window?"#window":e==screen?"#screen":e?.nodeName||"":"",fullscreenEnabled:()=>document.fullscreenEnabled||document.webkitFullscreenEnabled},Re={},Te=[0,document,window],Be=e=>{var r;return e=(r=e)>2?de(r):r,Te[e]||document.querySelector(e)},Ie=Be,je=e=>{var r=re(e)+1,t=Da(r);return Le(e,t,r),t},Ne=e=>Ae((()=>{var r=Da(8),t=r+4;return((e,r,t)=>{var n=Ie(e);if(!n)return-4;w[r>>2]=n.width,w[t>>2]=n.height})(je(e.id),r,t),[w[r>>2],w[t>>2]]})),Oe=(e,r,t)=>{var n=Ie(e);return n?(n.width=r,n.height=t,0):-4},ze=(e,r,t)=>{e.controlTransferredOffscreen?Ae((()=>{var n=je(e.id);Oe(n,r,t)})):(e.width=r,e.height=t)},Ue=[],Ge=e=>{var r=Ue[e];return r||(e>=Ue.length&&(Ue.length=e+1),Ue[e]=r=ve.get(e)),r},qe=(e,r,t)=>{e.style.paddingLeft=e.style.paddingRight=t+"px",e.style.paddingTop=e.style.paddingBottom=r+"px"},He=e=>Te.indexOf(e)<0?e.getBoundingClientRect():{left:0,top:0},We=(e,r)=>{if(0==r.scaleMode&&0==r.canvasResolutionScaleMode||((e,r)=>{var t=(e=>{var r=Ne(e),t=r[0],n=r[1],a=e.style.width,o=e.style.height,i=e.style.backgroundColor,s=document.body.style.backgroundColor,u=e.style.paddingLeft,c=e.style.paddingRight,l=e.style.paddingTop,d=e.style.paddingBottom,f=e.style.marginLeft,m=e.style.marginRight,v=e.style.marginTop,p=e.style.marginBottom,g=document.body.style.margin,h=document.documentElement.style.overflow,b=document.body.scroll,y=e.style.imageRendering;function w(){document.fullscreenElement||document.webkitFullscreenElement||(document.removeEventListener("fullscreenchange",w),document.removeEventListener("webkitfullscreenchange",w),ze(e,t,n),e.style.width=a,e.style.height=o,e.style.backgroundColor=i,s||(document.body.style.backgroundColor="white"),document.body.style.backgroundColor=s,e.style.paddingLeft=u,e.style.paddingRight=c,e.style.paddingTop=l,e.style.paddingBottom=d,e.style.marginLeft=f,e.style.marginRight=m,e.style.marginTop=v,e.style.marginBottom=p,document.body.style.margin=g,document.documentElement.style.overflow=h,document.body.scroll=b,e.style.imageRendering=y,e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,t,n),Re.canvasResizedCallback&&Ge(Re.canvasResizedCallback)(37,0,Re.canvasResizedCallbackUserData))}return document.addEventListener("fullscreenchange",w),document.addEventListener("webkitfullscreenchange",w),w})(e),n=r.softFullscreen?innerWidth:screen.width,a=r.softFullscreen?innerHeight:screen.height,o=He(e),i=o.width,s=o.height,u=Ne(e),c=u[0],l=u[1];if(3==r.scaleMode)qe(e,(a-s)/2,(n-i)/2),n=i,a=s;else if(2==r.scaleMode)if(n*l<c*a){var d=l*n/c;qe(e,(a-d)/2,0),a=d}else{var f=c*a/l;qe(e,0,(n-f)/2),n=f}e.style.backgroundColor||(e.style.backgroundColor="black"),document.body.style.backgroundColor||(document.body.style.backgroundColor="black"),e.style.width=n+"px",e.style.height=a+"px",1==r.filteringMode&&(e.style.imageRendering="optimizeSpeed",e.style.imageRendering="-moz-crisp-edges",e.style.imageRendering="-o-crisp-edges",e.style.imageRendering="-webkit-optimize-contrast",e.style.imageRendering="optimize-contrast",e.style.imageRendering="crisp-edges",e.style.imageRendering="pixelated");var m=2==r.canvasResolutionScaleMode?devicePixelRatio:1;if(0!=r.canvasResolutionScaleMode){var v=n*m|0,p=a*m|0;ze(e,v,p),e.GLctxObject&&e.GLctxObject.GLctx.viewport(0,0,v,p)}})(e,r),e.requestFullscreen)e.requestFullscreen();else{if(!e.webkitRequestFullscreen)return Me.fullscreenEnabled()?-3:-1;e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}return Re=r,r.canvasResizedCallback&&Ge(r.canvasResizedCallback)(37,0,r.canvasResizedCallbackUserData),0},Xe=e=>e.requestPointerLock?(e.requestPointerLock(),0):document.body.requestPointerLock?-3:-1,Ye=(e,r)=>{_[e>>3]=r.timestamp;for(var t=0;t<r.axes.length;++t)_[e+8*t+16>>3]=r.axes[t];for(t=0;t<r.buttons.length;++t)"object"==typeof r.buttons[t]?_[e+8*t+528>>3]=r.buttons[t].value:_[e+8*t+528>>3]=r.buttons[t];for(t=0;t<r.buttons.length;++t)"object"==typeof r.buttons[t]?w[e+4*t+1040>>2]=r.buttons[t].pressed:w[e+4*t+1040>>2]=1==r.buttons[t];w[e+1296>>2]=r.connected,w[e+1300>>2]=r.index,w[e+8>>2]=r.axes.length,w[e+12>>2]=r.buttons.length,Le(r.id,e+1304,64),Le(r.mapping,e+1368,64)},Ve=e=>ga.activeTexture(e),$e=Ve,Qe=(e,r)=>{ga.attachShader(Ce.programs[e],Ce.shaders[r])},Ke=Qe,Je=(e,r)=>{35051==e?ga.currentPixelPackBufferBinding=r:35052==e&&(ga.currentPixelUnpackBufferBinding=r),ga.bindBuffer(e,Ce.buffers[r])},Ze=Je,er=(e,r)=>{ga.bindTexture(e,Ce.textures[r])},rr=er,tr=e=>{ga.bindVertexArray(Ce.vaos[e])},nr=tr,ar=tr,or=ar,ir=e=>ga.blendEquation(e),sr=ir,ur=(e,r)=>ga.blendEquationSeparate(e,r),cr=ur,lr=(e,r)=>ga.blendFunc(e,r),dr=lr,fr=(e,r,t,n)=>ga.blendFuncSeparate(e,r,t,n),mr=fr,vr=(e,r,t,n)=>{Ce.currentContext.version>=2?t&&r?ga.bufferData(e,h,n,t,r):ga.bufferData(e,r,n):ga.bufferData(e,t?h.subarray(t,t+r):r,n)},pr=vr,gr=(e,r,t,n)=>{Ce.currentContext.version>=2?t&&ga.bufferSubData(e,r,h,n,t):ga.bufferSubData(e,r,h.subarray(n,n+t))},hr=gr,br=e=>ga.clear(e),yr=br,wr=(e,r,t,n)=>ga.clearColor(e,r,t,n),Er=wr,xr=(e,r)=>(e>>>0)+4294967296*r,_r=e=>{ga.compileShader(Ce.shaders[e])},kr=_r,Cr=()=>{var e=Ce.getNewId(Ce.programs),r=ga.createProgram();return r.name=e,r.maxUniformLength=r.maxAttributeLength=r.maxUniformBlockNameLength=0,r.uniformIdCounter=1,Ce.programs[e]=r,e},Lr=Cr,Sr=e=>{var r=Ce.getNewId(Ce.shaders);return Ce.shaders[r]=ga.createShader(e),r},Fr=Sr,Dr=(e,r)=>{for(var t=0;t<e;t++){var n=w[r+4*t>>2],a=Ce.buffers[n];a&&(ga.deleteBuffer(a),a.name=0,Ce.buffers[n]=null,n==ga.currentPixelPackBufferBinding&&(ga.currentPixelPackBufferBinding=0),n==ga.currentPixelUnpackBufferBinding&&(ga.currentPixelUnpackBufferBinding=0))}},Pr=Dr,Ar=e=>{if(e){var r=Ce.programs[e];r?(ga.deleteProgram(r),r.name=0,Ce.programs[e]=null):Ce.recordError(1281)}},Mr=Ar,Rr=e=>{if(e){var r=Ce.shaders[e];r?(ga.deleteShader(r),Ce.shaders[e]=null):Ce.recordError(1281)}},Tr=Rr,Br=(e,r)=>{for(var t=0;t<e;t++){var n=w[r+4*t>>2];ga.deleteVertexArray(Ce.vaos[n]),Ce.vaos[n]=null}},Ir=Br,jr=Br,Nr=jr,Or=(e,r)=>{ga.detachShader(Ce.programs[e],Ce.shaders[r])},zr=Or,Ur=e=>ga.disable(e),Gr=Ur,qr=(e,r,t,n)=>{ga.drawArraysInstanced(e,r,t,n)},Hr=qr,Wr=qr,Xr=Wr,Yr=qr,Vr=Yr,$r=qr,Qr=$r,Kr=qr,Jr=Kr,Zr=[],et=(e,r)=>{for(var t=Zr[e],n=0;n<e;n++)t[n]=w[r+4*n>>2];ga.drawBuffers(t)},rt=et,tt=et,nt=tt,at=et,ot=at,it=(e,r,t,n)=>{ga.drawElements(e,r,t,n)},st=it,ut=(e,r,t,n,a)=>{ga.drawElementsInstanced(e,r,t,n,a)},ct=ut,lt=ut,dt=lt,ft=ut,mt=ft,vt=ut,pt=vt,gt=ut,ht=gt,bt=e=>ga.enable(e),yt=bt,wt=e=>{ga.enableVertexAttribArray(e)},Et=wt,xt=(e,r)=>{Ce.genObject(e,r,"createBuffer",Ce.buffers)},_t=xt,kt=(e,r)=>{Ce.genObject(e,r,"createTexture",Ce.textures)},Ct=kt,Lt=(e,r)=>{Ce.genObject(e,r,"createVertexArray",Ce.vaos)},St=Lt,Ft=Lt,Dt=Ft,Pt=(e,r,t,n,a,o,i,s)=>{r=Ce.programs[r];var u=ga[e](r,t);if(u){var c=s&&Le(u.name,s,n);a&&(w[a>>2]=c),o&&(w[o>>2]=u.size),i&&(w[i>>2]=u.type)}},At=(e,r)=>ga.getAttribLocation(Ce.programs[e],de(r)),Mt=At,Rt=(e,r)=>{E[e>>2]=r;var t=E[e>>2];E[e+4>>2]=(r-t)/4294967296},Tt=function(){var e=ke(ga);return e.concat(e.map((e=>"GL_"+e)))},Bt=(e,r,t)=>{if(r){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void(0!=t&&1!=t&&Ce.recordError(1280));case 34814:case 36345:n=0;break;case 34466:var a=ga.getParameter(34467);n=a?a.length:0;break;case 33309:if(Ce.currentContext.version<2)return void Ce.recordError(1282);n=Tt().length;break;case 33307:case 33308:if(Ce.currentContext.version<2)return void Ce.recordError(1280);n=33307==e?3:0}if(void 0===n){var o=ga.getParameter(e);switch(typeof o){case"number":n=o;break;case"boolean":n=o?1:0;break;case"string":return void Ce.recordError(1280);case"object":if(null===o)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:return void Ce.recordError(1280)}else{if(o instanceof Float32Array||o instanceof Uint32Array||o instanceof Int32Array||o instanceof Array){for(var i=0;i<o.length;++i)switch(t){case 0:w[r+4*i>>2]=o[i];break;case 2:x[r+4*i>>2]=o[i];break;case 4:g[r+i]=o[i]?1:0}return}try{n=0|o.name}catch(r){return Ce.recordError(1280),void v(`GL_INVALID_ENUM in glGet${t}v: Unknown object returned from WebGL getParameter(${e})! (error: ${r})`)}}break;default:return Ce.recordError(1280),void v(`GL_INVALID_ENUM in glGet${t}v: Native code calling glGet${t}v(${e}) and it returns ${o} of type ${typeof o}!`)}}switch(t){case 1:Rt(r,n);break;case 0:w[r>>2]=n;break;case 2:x[r>>2]=n;break;case 4:g[r]=n?1:0}}else Ce.recordError(1281)},It=(e,r,t,n)=>{if(t){var a,o=ga.getIndexedParameter(e,r);switch(typeof o){case"boolean":a=o?1:0;break;case"number":a=o;break;case"object":if(null===o)switch(e){case 35983:case 35368:a=0;break;default:return void Ce.recordError(1280)}else{if(!(o instanceof WebGLBuffer))return void Ce.recordError(1280);a=0|o.name}break;default:return void Ce.recordError(1280)}switch(n){case 1:Rt(t,a);break;case 0:w[t>>2]=a;break;case 2:x[t>>2]=a;break;case 4:g[t]=a?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+n}}else Ce.recordError(1281)},jt=(e,r,t)=>It(e,r,t,0),Nt=jt,Ot=(e,r)=>Bt(e,r,0),zt=Ot,Ut=(e,r,t,n)=>{var a=ga.getProgramInfoLog(Ce.programs[e]);null===a&&(a="(unknown error)");var o=r>0&&n?Le(a,n,r):0;t&&(w[t>>2]=o)},Gt=Ut,qt=(e,r,t)=>{if(t)if(e>=Ce.counter)Ce.recordError(1281);else if(e=Ce.programs[e],35716==r){var n=ga.getProgramInfoLog(e);null===n&&(n="(unknown error)"),w[t>>2]=n.length+1}else if(35719==r){if(!e.maxUniformLength)for(var a=0;a<ga.getProgramParameter(e,35718);++a)e.maxUniformLength=Math.max(e.maxUniformLength,ga.getActiveUniform(e,a).name.length+1);w[t>>2]=e.maxUniformLength}else if(35722==r){if(!e.maxAttributeLength)for(a=0;a<ga.getProgramParameter(e,35721);++a)e.maxAttributeLength=Math.max(e.maxAttributeLength,ga.getActiveAttrib(e,a).name.length+1);w[t>>2]=e.maxAttributeLength}else if(35381==r){if(!e.maxUniformBlockNameLength)for(a=0;a<ga.getProgramParameter(e,35382);++a)e.maxUniformBlockNameLength=Math.max(e.maxUniformBlockNameLength,ga.getActiveUniformBlockName(e,a).length+1);w[t>>2]=e.maxUniformBlockNameLength}else w[t>>2]=ga.getProgramParameter(e,r);else Ce.recordError(1281)},Ht=qt,Wt=(e,r,t)=>{if(t){var n,a=Ce.queries[e];n=Ce.currentContext.version<2?ga.disjointTimerQueryExt.getQueryObjectEXT(a,r):ga.getQueryParameter(a,r),Rt(t,"boolean"==typeof n?n?1:0:n)}else Ce.recordError(1281)},Xt=Wt,Yt=(e,r,t)=>{if(t){var n,a=Ce.queries[e],o=ga.disjointTimerQueryExt.getQueryObjectEXT(a,r);n="boolean"==typeof o?o?1:0:o,w[t>>2]=n}else Ce.recordError(1281)},Vt=Yt,$t=Wt,Qt=Yt,Kt=(e,r,t,n)=>{var a=ga.getShaderInfoLog(Ce.shaders[e]);null===a&&(a="(unknown error)");var o=r>0&&n?Le(a,n,r):0;t&&(w[t>>2]=o)},Jt=Kt,Zt=(e,r,t)=>{if(t)if(35716==r){var n=ga.getShaderInfoLog(Ce.shaders[e]);null===n&&(n="(unknown error)");var a=n?n.length+1:0;w[t>>2]=a}else if(35720==r){var o=ga.getShaderSource(Ce.shaders[e]),i=o?o.length+1:0;w[t>>2]=i}else w[t>>2]=ga.getShaderParameter(Ce.shaders[e],r);else Ce.recordError(1281)},en=Zt,rn=e=>{var r=Ce.stringCache[e];if(!r){switch(e){case 7939:r=Se(Tt().join(" "));break;case 7936:case 7937:case 37445:case 37446:var t=ga.getParameter(e);t||Ce.recordError(1280),r=t?Se(t):0;break;case 7938:var n=ga.getParameter(7938);n=Ce.currentContext.version>=2?`OpenGL ES 3.0 (${n})`:`OpenGL ES 2.0 (${n})`,r=Se(n);break;case 35724:var a=ga.getParameter(35724),o=a.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==o&&(3==o[1].length&&(o[1]=o[1]+"0"),a=`OpenGL ES GLSL ES ${o[1]} (${a})`),r=Se(a);break;default:Ce.recordError(1280)}Ce.stringCache[e]=r}return r},tn=rn,nn=e=>"]"==e.slice(-1)&&e.lastIndexOf("["),an=e=>{var r,t,n=e.uniformLocsById,a=e.uniformSizeAndIdsByName;if(!n)for(e.uniformLocsById=n={},e.uniformArrayNamesById={},r=0;r<ga.getProgramParameter(e,35718);++r){var o=ga.getActiveUniform(e,r),i=o.name,s=o.size,u=nn(i),c=u>0?i.slice(0,u):i,l=e.uniformIdCounter;for(e.uniformIdCounter+=s,a[c]=[s,l],t=0;t<s;++t)n[l]=t,e.uniformArrayNamesById[l++]=c}},on=(e,r)=>{if(r=de(r),e=Ce.programs[e]){an(e);var t=e.uniformLocsById,n=0,a=r,o=nn(r);o>0&&(s=r.slice(o+1),n=parseInt(s)>>>0,a=r.slice(0,o));var i=e.uniformSizeAndIdsByName[a];if(i&&n<i[0]&&(t[n+=i[1]]=t[n]||ga.getUniformLocation(e,r)))return n}else Ce.recordError(1281);var s;return-1},sn=on,un=e=>{var r=ga.currentProgram;if(r){var t=r.uniformLocsById[e];return"number"==typeof t&&(r.uniformLocsById[e]=t=ga.getUniformLocation(r,r.uniformArrayNamesById[e]+(t>0?`[${t}]`:""))),t}Ce.recordError(1282)},cn=(e,r,t,n)=>{if(t){e=Ce.programs[e],an(e);var a=ga.getUniform(e,un(r));if("number"==typeof a||"boolean"==typeof a)switch(n){case 0:w[t>>2]=a;break;case 2:x[t>>2]=a}else for(var o=0;o<a.length;o++)switch(n){case 0:w[t+4*o>>2]=a[o];break;case 2:x[t+4*o>>2]=a[o]}}else Ce.recordError(1281)},ln=(e,r,t,n)=>{if(t){var a=ga.getVertexAttrib(e,r);if(34975==r)w[t>>2]=a&&a.name;else if("number"==typeof a||"boolean"==typeof a)switch(n){case 0:w[t>>2]=a;break;case 2:x[t>>2]=a;break;case 5:w[t>>2]=Math.fround(a)}else for(var o=0;o<a.length;o++)switch(n){case 0:w[t+4*o>>2]=a[o];break;case 2:x[t+4*o>>2]=a[o];break;case 5:w[t+4*o>>2]=Math.fround(a[o])}}else Ce.recordError(1281)},dn=(e,r,t)=>{ln(e,r,t,0)},fn=dn,mn=dn,vn=e=>ga.isEnabled(e),pn=vn,gn=e=>{var r=Ce.vaos[e];return r?ga.isVertexArray(r):0},hn=gn,bn=gn,yn=e=>{e=Ce.programs[e],ga.linkProgram(e),e.uniformLocsById=0,e.uniformSizeAndIdsByName={}},wn=yn,En=e=>0==(e-=5120)?g:1==e?h:2==e?b:4==e?w:6==e?x:5==e||28922==e||28520==e||30779==e||30782==e?E:y,xn=(e,r)=>e>>>31-Math.clz32(r.BYTES_PER_ELEMENT),_n=(e,r,t,n,a,o)=>{var i=En(e),s=(e=>({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[e-6402]||1))(r)*i.BYTES_PER_ELEMENT,u=((e,r,t,n)=>{var a;return r*(e*t+(a=n)-1&-a)})(t,n,s,Ce.unpackAlignment);return i.subarray(xn(a,i),xn(a+u,i))},kn=(e,r,t,n)=>ga.scissor(e,r,t,n),Cn=kn,Ln=(e,r,t,n)=>{var a=Ce.getSource(e,r,t,n);ga.shaderSource(Ce.shaders[e],a)},Sn=Ln,Fn=(e,r,t,n,a,o,i,s,u)=>{if(Ce.currentContext.version>=2)if(ga.currentPixelUnpackBufferBinding)ga.texImage2D(e,r,t,n,a,o,i,s,u);else if(u){var c=En(s);ga.texImage2D(e,r,t,n,a,o,i,s,c,xn(u,c))}else ga.texImage2D(e,r,t,n,a,o,i,s,null);else ga.texImage2D(e,r,t,n,a,o,i,s,u?_n(s,i,n,a,u):null)},Dn=Fn,Pn=(e,r,t)=>ga.texParameteri(e,r,t),An=Pn,Mn=[],Rn=(e,r)=>{ga.uniform1i(un(e),r)},Tn=Rn,Bn=[],In=(e,r,t,n)=>{if(Ce.currentContext.version>=2)r&&ga.uniformMatrix4fv(un(e),!!t,x,n>>2,16*r);else{if(r<=18){var a=Mn[16*r-1],o=x;n>>=2;for(var i=0;i<16*r;i+=16){var s=n+i;a[i]=o[s],a[i+1]=o[s+1],a[i+2]=o[s+2],a[i+3]=o[s+3],a[i+4]=o[s+4],a[i+5]=o[s+5],a[i+6]=o[s+6],a[i+7]=o[s+7],a[i+8]=o[s+8],a[i+9]=o[s+9],a[i+10]=o[s+10],a[i+11]=o[s+11],a[i+12]=o[s+12],a[i+13]=o[s+13],a[i+14]=o[s+14],a[i+15]=o[s+15]}}else a=x.subarray(n>>2,n+64*r>>2);ga.uniformMatrix4fv(un(e),!!t,a)}},jn=In,Nn=e=>{e=Ce.programs[e],ga.useProgram(e),ga.currentProgram=e},On=Nn,zn=(e,r)=>{ga.vertexAttribDivisor(e,r)},Un=zn,Gn=zn,qn=zn,Hn=zn,Wn=zn,Xn=(e,r,t,n,a)=>{ga.vertexAttribIPointer(e,r,t,n,a)},Yn=Xn,Vn=(e,r,t,n,a,o)=>{ga.vertexAttribPointer(e,r,t,!!n,a,o)},$n=Vn,Qn=(e,r,t,n)=>ga.viewport(e,r,t,n),Kn=Qn,Jn=e=>{var r=(e-f.buffer.byteLength+65535)/65536;try{return f.grow(r),C(),1}catch(e){}},Zn=()=>{try{if(navigator.getGamepads)return(Me.lastGamepadState=navigator.getGamepads())?0:-1}catch(e){navigator.getGamepads=null}return-1},ea=(e,r,t,n,a,o,i)=>{Me.focusEvent||(Me.focusEvent=La(256));var s={target:Be(e),eventTypeString:o,callbackfunc:n,handlerFunc:(e=event)=>{var t=Me.getNodeNameForTarget(e.target),o=e.target.id?e.target.id:"",i=Me.focusEvent;Le(t,i+0,128),Le(o,i+128,128),Ge(n)(a,i,r)&&e.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)},ra=(e,r,t,n,a,o,i)=>{Me.fullscreenChangeEvent||(Me.fullscreenChangeEvent=La(280));var s={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:(e=event)=>{var t=Me.fullscreenChangeEvent;(e=>{var r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement,t=!!r;w[e>>2]=t,w[e+4>>2]=Me.fullscreenEnabled();var n=t?r:Me.previousFullscreenElement,a=Me.getNodeNameForTarget(n),o=n?.id||"";Le(a,e+8,128),Le(o,e+136,128),w[e+264>>2]=n?n.clientWidth:0,w[e+268>>2]=n?n.clientHeight:0,w[e+272>>2]=screen.width,w[e+276>>2]=screen.height,t&&(Me.previousFullscreenElement=r)})(t),Ge(n)(a,t,r)&&e.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)},ta=(e,r,t,n,a,o,i)=>{Me.gamepadEvent||(Me.gamepadEvent=La(1432));var s={target:Be(e),allowsDeferredCalls:!0,eventTypeString:o,callbackfunc:n,handlerFunc:(e=event)=>{var t=Me.gamepadEvent;Ye(t,e.gamepad),Ge(n)(a,t,r)&&e.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)},na=(e,r,t,n,a,o,i)=>{Me.keyEvent||(Me.keyEvent=La(176));var s={target:Be(e),eventTypeString:o,callbackfunc:n,handlerFunc:e=>{var t=Me.keyEvent;_[t>>3]=e.timeStamp;var o=t>>2;w[o+2]=e.location,w[o+3]=e.ctrlKey,w[o+4]=e.shiftKey,w[o+5]=e.altKey,w[o+6]=e.metaKey,w[o+7]=e.repeat,w[o+8]=e.charCode,w[o+9]=e.keyCode,w[o+10]=e.which,Le(e.key||"",t+44,32),Le(e.code||"",t+76,32),Le(e.char||"",t+108,32),Le(e.locale||"",t+140,32),Ge(n)(a,t,r)&&e.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)},aa=(e,r,t)=>{_[e>>3]=r.timeStamp;var n=e>>2;w[n+2]=r.screenX,w[n+3]=r.screenY,w[n+4]=r.clientX,w[n+5]=r.clientY,w[n+6]=r.ctrlKey,w[n+7]=r.shiftKey,w[n+8]=r.altKey,w[n+9]=r.metaKey,b[2*n+20]=r.button,b[2*n+21]=r.buttons,w[n+11]=r.movementX,w[n+12]=r.movementY;var a=He(t);w[n+13]=r.clientX-(0|a.left),w[n+14]=r.clientY-(0|a.top)},oa=(e,r,t,n,a,o,i)=>{Me.mouseEvent||(Me.mouseEvent=La(72));var s={target:e=Be(e),allowsDeferredCalls:"mousemove"!=o&&"mouseenter"!=o&&"mouseleave"!=o,eventTypeString:o,callbackfunc:n,handlerFunc:(t=event)=>{aa(Me.mouseEvent,t,e),Ge(n)(a,Me.mouseEvent,r)&&t.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)},ia=(e,r,t,n,a,o,i)=>{Me.pointerlockChangeEvent||(Me.pointerlockChangeEvent=La(260));var s={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:(e=event)=>{var t=Me.pointerlockChangeEvent;(e=>{var r=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement||document.msPointerLockElement,t=!!r;w[e>>2]=t;var n=Me.getNodeNameForTarget(r),a=r?.id||"";Le(n,e+4,128),Le(a,e+132,128)})(t),Ge(n)(a,t,r)&&e.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)},sa=(e,r,t,n,a,o,i)=>{Me.touchEvent||(Me.touchEvent=La(1696));var s={target:e=Be(e),allowsDeferredCalls:"touchstart"==o||"touchend"==o,eventTypeString:o,callbackfunc:n,handlerFunc:t=>{for(var o,i={},s=t.touches,u=0;u<s.length;++u)(o=s[u]).isChanged=o.onTarget=0,i[o.identifier]=o;for(u=0;u<t.changedTouches.length;++u)(o=t.changedTouches[u]).isChanged=1,i[o.identifier]=o;for(u=0;u<t.targetTouches.length;++u)i[t.targetTouches[u].identifier].onTarget=1;var c=Me.touchEvent;_[c>>3]=t.timeStamp;var l=c>>2;w[l+3]=t.ctrlKey,w[l+4]=t.shiftKey,w[l+5]=t.altKey,w[l+6]=t.metaKey,l+=7;var d=He(e),f=0;for(var u in i)if(o=i[u],w[l+0]=o.identifier,w[l+1]=o.screenX,w[l+2]=o.screenY,w[l+3]=o.clientX,w[l+4]=o.clientY,w[l+5]=o.pageX,w[l+6]=o.pageY,w[l+7]=o.isChanged,w[l+8]=o.onTarget,w[l+9]=o.clientX-(0|d.left),w[l+10]=o.clientY-(0|d.top),l+=13,++f>31)break;w[c+8>>2]=f,Ge(n)(a,c,r)&&t.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)},ua={},ca=()=>{if(!ca.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"};for(var r in ua)void 0===ua[r]?delete e[r]:e[r]=ua[r];var t=[];for(var r in e)t.push(`${r}=${e[r]}`);ca.strings=t}return ca.strings},la={isLinaroFork:1,extensions:null,error:{0:null,1:null,2:null,3:null,4:null,5:null,6:null,7:null,8:null},version:{1:null,2:null,3:null,4:null},errorStringConstantFromCode(e){if(la.isLinaroFork)switch(e){case 4:return"OpenGL ES lib expected, found OpenGL lib";case 5:return"OpenGL lib expected, found OpenGL ES lib";case 6:return"Missing EGL version";case 7:return"EGL 1.1 and up are supported"}switch(e){case 0:return"No error";case 1:return"Missing GL version";case 2:return"GL 1.1 and up are supported";case 3:return"GLX 1.2 and up are supported";default:return null}},errorString(e){if(!la.error[e]){var r=la.errorStringConstantFromCode(e);r||(r="Unknown error",e=8),la.error[e]=Se(r)}return la.error[e]},versionStringConstantFromCode(e){switch(e){case 1:return"1.10.0";case 2:return"1";case 3:return"10";case 4:return"0";default:return null}},versionString(e){if(!la.version[e]){var r=la.versionStringConstantFromCode(e);if(!r)return 0;la.version[e]=Se(r)}return la.version[e]},extensionIsSupported:e=>(la.extensions||=Tt(),la.extensions.includes(e)?1:la.extensions.includes("GL_"+e))},da=e=>e%4==0&&(e%100!=0||e%400==0),fa=[31,29,31,30,31,30,31,31,30,31,30,31],ma=[31,28,31,30,31,30,31,31,30,31,30,31],va=(e,r)=>{r||(r=[document,document.getElementById("canvas")]),["keydown","mousedown","touchstart"].forEach((t=>{r.forEach((r=>{r&&((r,t,n)=>{r.addEventListener(t,(()=>{"suspended"===e.state&&e.resume()}),{once:!0})})(r,t)}))}))},pa=(e,r,t=[])=>e.includes("j")?((e,r,t)=>(0,a["dynCall_"+e])(r,...t))(e,r,t):Ge(r)(...t);le.createPreloadedFile=(e,r,t,n,a,o,s,u,c,l)=>{var d=r?K.resolve($.join2(e,r)):e;function f(t){function i(t){l?.(),u||((e,r,t,n,a,o)=>{le.createDataFile(e,r,t,n,a,o)})(e,r,t,n,a,c),o?.(),T()}((e,r,t,n)=>{void 0!==xe&&xe.init();var a=!1;return ue.forEach((o=>{a||o.canHandle(r)&&(o.handle(e,r,t,n),a=!0)})),a})(t,d,i,(()=>{s?.(),T()}))||i(t)}R(),"string"==typeof t?((e,r,t,n)=>{var a=`al ${e}`;i(e,(e=>{r(new Uint8Array(e)),a&&T()}),(r=>{if(!t)throw`Loading data file "${e}" failed.`;t()})),a&&R()})(t,f,s):f(t)},le.staticInit(),a.FS_createPath=le.createPath,a.FS_createDataFile=le.createDataFile,a.FS_createPreloadedFile=le.createPreloadedFile,a.FS_unlink=le.unlink,a.FS_createLazyFile=le.createLazyFile,a.FS_createDevice=le.createDevice,a.requestFullscreen=xe.requestFullscreen,a.requestAnimationFrame=xe.requestAnimationFrame,a.setCanvasSize=xe.setCanvasSize,a.pauseMainLoop=xe.mainLoop.pause,a.resumeMainLoop=xe.mainLoop.resume,a.getUserMedia=xe.getUserMedia,a.createContext=xe.createContext;for(var ga,ha={},ba={},ya=0;ya<32;++ya)Zr.push(new Array(ya));var wa=new Float32Array(288);for(ya=0;ya<288;++ya)Mn[ya]=wa.subarray(0,ya+1);var Ea=new Int32Array(288);for(ya=0;ya<288;++ya)Bn[ya]=Ea.subarray(0,ya+1);var xa,_a={Ca:function(e,r){const t=window.devicePixelRatio;Y(e,Math.floor(document.body.clientWidth*t),"i32"),Y(r,Math.floor(document.body.clientHeight*t),"i32")},a:(e,r,t)=>{throw new V(e).init(r,t),e},fa:function(e,r,t){fe.varargs=t;try{var n=fe.getStreamFromFD(e);switch(r){case 0:if((a=fe.get())<0)return-28;for(;le.streams[a];)a++;return le.dupStream(n,a).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var a=fe.get();return n.flags|=a,0;case 12:return a=fe.getp(),b[a+0>>1]=2,0}return-28}catch(e){if(void 0===le||"ErrnoError"!==e.name)throw e;return-e.errno}},lb:function(e,r,t){fe.varargs=t;try{var n=fe.getStreamFromFD(e);switch(r){case 21509:case 21510:case 21511:case 21512:case 21524:case 21515:return n.tty?0:-59;case 21505:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var a=n.tty.ops.ioctl_tcgets(n),o=fe.getp();w[o>>2]=a.c_iflag||0,w[o+4>>2]=a.c_oflag||0,w[o+8>>2]=a.c_cflag||0,w[o+12>>2]=a.c_lflag||0;for(var i=0;i<32;i++)g[o+i+17]=a.c_cc[i]||0;return 0}return 0;case 21506:case 21507:case 21508:if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){o=fe.getp();var s=w[o>>2],u=w[o+4>>2],c=w[o+8>>2],l=w[o+12>>2],d=[];for(i=0;i<32;i++)d.push(g[o+i+17]);return n.tty.ops.ioctl_tcsets(n.tty,r,{c_iflag:s,c_oflag:u,c_cflag:c,c_lflag:l,c_cc:d})}return 0;case 21519:return n.tty?(o=fe.getp(),w[o>>2]=0,0):-59;case 21520:return n.tty?-28:-59;case 21531:return o=fe.getp(),le.ioctl(n,r,o);case 21523:if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var f=n.tty.ops.ioctl_tiocgwinsz(n.tty);o=fe.getp(),b[o>>1]=f[0],b[o+2>>1]=f[1]}return 0;default:return-28}}catch(e){if(void 0===le||"ErrnoError"!==e.name)throw e;return-e.errno}},mb:function(e,r,t,n){fe.varargs=n;try{r=fe.getStr(r),r=fe.calculateAt(e,r);var a=n?fe.get():0;return le.open(r,t,a).fd}catch(e){if(void 0===le||"ErrnoError"!==e.name)throw e;return-e.errno}},Za:e=>{do{var r=E[e>>2],t=E[(e+=4)>>2],n=E[(e+=4)>>2];e+=4;var a=de(r);le.createPath("/",$.dirname(a),!0,!0),le.createDataFile(a,null,g.subarray(n,n+t),!0,!0,!0)}while(E[e>>2])},nb:()=>1,A:()=>{B("")},Ra:e=>12448==e?(_e.setErrorCode(12288),1):(_e.setErrorCode(12300),0),Ua:(e,r,t,n,a)=>_e.chooseConfig(e,r,t,n,a),Ia:(e,r,t,n)=>{if(62e3!=e)return _e.setErrorCode(12296),0;for(var o=1;;){var i=w[n>>2];if(12440!=i){if(12344==i)break;return _e.setErrorCode(12292),0}o=w[n+4>>2],n+=8}return o<2||o>3?(_e.setErrorCode(12293),0):(_e.contextAttributes.majorVersion=o-1,_e.contextAttributes.minorVersion=0,_e.context=Ce.createContext(a.canvas,_e.contextAttributes),0!=_e.context?(_e.setErrorCode(12288),Ce.makeContextCurrent(_e.context),a.useWebGL=!0,xe.moduleContextCreatedCallbacks.forEach((function(e){e()})),Ce.makeContextCurrent(null),62004):(_e.setErrorCode(12297),0))},Ka:(e,r,t,n)=>62e3!=e?(_e.setErrorCode(12296),0):62002!=r?(_e.setErrorCode(12293),0):(_e.setErrorCode(12288),62006),Ja:(e,r)=>62e3!=e?(_e.setErrorCode(12296),0):62004!=r?(_e.setErrorCode(12294),0):(Ce.deleteContext(_e.context),_e.setErrorCode(12288),_e.currentContext==r&&(_e.currentContext=0),1),La:(e,r)=>62e3!=e?(_e.setErrorCode(12296),0):62006!=r?(_e.setErrorCode(12301),1):(_e.currentReadSurface==r&&(_e.currentReadSurface=0),_e.currentDrawSurface==r&&(_e.currentDrawSurface=0),_e.setErrorCode(12288),1),Va:(e,r,t,n)=>{if(62e3!=e)return _e.setErrorCode(12296),0;if(62002!=r)return _e.setErrorCode(12293),0;if(!n)return _e.setErrorCode(12300),0;switch(_e.setErrorCode(12288),t){case 12320:return w[n>>2]=_e.contextAttributes.alpha?32:24,1;case 12321:return w[n>>2]=_e.contextAttributes.alpha?8:0,1;case 12322:case 12323:case 12324:return w[n>>2]=8,1;case 12325:return w[n>>2]=_e.contextAttributes.depth?24:0,1;case 12326:return w[n>>2]=_e.contextAttributes.stencil?8:0,1;case 12327:case 12335:case 12340:return w[n>>2]=12344,1;case 12328:return w[n>>2]=62002,1;case 12329:case 12333:case 12334:case 12345:case 12346:case 12347:case 12349:case 12350:case 12354:return w[n>>2]=0,1;case 12330:case 12332:return w[n>>2]=4096,1;case 12331:return w[n>>2]=16777216,1;case 12337:return w[n>>2]=_e.contextAttributes.antialias?4:0,1;case 12338:return w[n>>2]=_e.contextAttributes.antialias?1:0,1;case 12339:case 12352:return w[n>>2]=4,1;case 12341:case 12342:case 12343:return w[n>>2]=-1,1;case 12348:return w[n>>2]=1,1;case 12351:return w[n>>2]=12430,1;default:return _e.setErrorCode(12292),0}},T:e=>(_e.setErrorCode(12288),0!=e&&1!=e?0:62e3),Ha:()=>_e.errorCode,Sa:(e,r,t)=>62e3!=e?(_e.setErrorCode(12296),0):(r&&(w[r>>2]=1),t&&(w[t>>2]=4),_e.defaultDisplayInitialized=!0,_e.setErrorCode(12288),1),Ma:(e,r,t,n)=>62e3!=e?(_e.setErrorCode(12296),0):0!=n&&62004!=n?(_e.setErrorCode(12294),0):0!=t&&62006!=t||0!=r&&62006!=r?(_e.setErrorCode(12301),0):(Ce.makeContextCurrent(n?_e.context:null),_e.currentContext=n,_e.currentDrawSurface=r,_e.currentReadSurface=t,_e.setErrorCode(12288),1),Ga:(e,r)=>{if(62e3!=e)return _e.setErrorCode(12296),0;if(_e.setErrorCode(12288),_e.stringCache[r])return _e.stringCache[r];var t;switch(r){case 12371:t=Se("Emscripten");break;case 12372:t=Se("1.4 Emscripten EGL");break;case 12373:t=Se("");break;case 12429:t=Se("OpenGL_ES");break;default:return _e.setErrorCode(12300),0}return _e.stringCache[r]=t,t},Na:(e,r)=>{if(_e.defaultDisplayInitialized)if(a.ctx){if(!a.ctx.isContextLost())return _e.setErrorCode(12288),1;_e.setErrorCode(12302)}else _e.setErrorCode(12290);else _e.setErrorCode(12289);return 0},Oa:(e,r)=>62e3!=e?(_e.setErrorCode(12296),0):(0==r?me(0,0):me(1,r),_e.setErrorCode(12288),1),Ta:e=>62e3!=e?(_e.setErrorCode(12296),0):(_e.currentContext=0,_e.currentReadSurface=0,_e.currentDrawSurface=0,_e.defaultDisplayInitialized=!1,_e.setErrorCode(12288),1),Qa:()=>(_e.setErrorCode(12288),1),Pa:e=>(_e.setErrorCode(12288),1),Xa:(e,r,t)=>((e,r,t)=>{var n=De(r,t);return q[e](...n)})(e,r,t),c:(e,r,t)=>Pe(e,r,t),Y:(e,r,t)=>Pe(e,r,t),Da:()=>{xe.mainLoop.pause(),xe.mainLoop.func=null},ha:e=>{console.error(de(e))},ga:()=>Date.now(),yg:()=>{if(!Me.fullscreenEnabled())return-1;Me.removeDeferredCalls(We);var e=Te[1];if(e.exitFullscreen)e.fullscreenElement&&e.exitFullscreen();else{if(!e.webkitExitFullscreen)return-1;e.webkitFullscreenElement&&e.webkitExitFullscreen()}return 0},Ea:()=>(Me.removeDeferredCalls(Xe),document.exitPointerLock?(document.exitPointerLock(),0):-1),k:()=>devicePixelRatio,g:(e,r,t)=>{if(!(e=Be(e)))return-4;var n=He(e);return _[r>>3]=n.width,_[t>>3]=n.height,0},W:(e,r)=>e<0||e>=Me.lastGamepadState.length?-5:Me.lastGamepadState[e]?(Ye(r,Me.lastGamepadState[e]),0):-7,B:ae,Wa:()=>Me.lastGamepadState.length,Fa:(e,r)=>{w[e>>2]=screen.width,w[r>>2]=screen.height},eg:$e,dg:Ke,hd:(e,r)=>{ga.beginQuery(e,Ce.queries[r])},ug:(e,r)=>{ga.disjointTimerQueryExt.beginQueryEXT(e,Ce.queries[r])},Oc:e=>ga.beginTransformFeedback(e),cg:(e,r,t)=>{ga.bindAttribLocation(Ce.programs[e],r,de(t))},bg:Ze,Lc:(e,r,t)=>{ga.bindBufferBase(e,r,Ce.buffers[t])},Mc:(e,r,t,n,a)=>{ga.bindBufferRange(e,r,Ce.buffers[t],n,a)},ag:(e,r)=>{ga.bindFramebuffer(e,Ce.framebuffers[r])},$f:(e,r)=>{ga.bindRenderbuffer(e,Ce.renderbuffers[r])},Rb:(e,r)=>{ga.bindSampler(e,Ce.samplers[r])},_f:rr,Jb:(e,r)=>{ga.bindTransformFeedback(e,Ce.transformFeedbacks[r])},Uc:nr,mg:or,Zf:(e,r,t,n)=>ga.blendColor(e,r,t,n),Yf:sr,Xf:cr,Wf:dr,Vf:mr,Xc:(e,r,t,n,a,o,i,s,u,c)=>ga.blitFramebuffer(e,r,t,n,a,o,i,s,u,c),Uf:pr,Tf:hr,Sf:e=>ga.checkFramebufferStatus(e),Rf:yr,mc:(e,r,t,n)=>ga.clearBufferfi(e,r,t,n),nc:(e,r,t)=>{ga.clearBufferfv(e,r,x,t>>2)},pc:(e,r,t)=>{ga.clearBufferiv(e,r,w,t>>2)},oc:(e,r,t)=>{ga.clearBufferuiv(e,r,E,t>>2)},Qf:Er,Pf:e=>ga.clearDepth(e),Of:e=>ga.clearStencil(e),_b:(e,r,t,n)=>{var a=xr(t,n);return ga.clientWaitSync(Ce.syncs[e],r,a)},Nf:(e,r,t,n)=>{ga.colorMask(!!e,!!r,!!t,!!n)},Mf:kr,Lf:(e,r,t,n,a,o,i,s)=>{Ce.currentContext.version>=2?ga.currentPixelUnpackBufferBinding||!i?ga.compressedTexImage2D(e,r,t,n,a,o,i,s):ga.compressedTexImage2D(e,r,t,n,a,o,h,s,i):ga.compressedTexImage2D(e,r,t,n,a,o,s?h.subarray(s,s+i):null)},md:(e,r,t,n,a,o,i,s,u)=>{ga.currentPixelUnpackBufferBinding?ga.compressedTexImage3D(e,r,t,n,a,o,i,s,u):ga.compressedTexImage3D(e,r,t,n,a,o,i,h,u,s)},Kf:(e,r,t,n,a,o,i,s,u)=>{Ce.currentContext.version>=2?ga.currentPixelUnpackBufferBinding||!s?ga.compressedTexSubImage2D(e,r,t,n,a,o,i,s,u):ga.compressedTexSubImage2D(e,r,t,n,a,o,i,h,u,s):ga.compressedTexSubImage2D(e,r,t,n,a,o,i,u?h.subarray(u,u+s):null)},ld:(e,r,t,n,a,o,i,s,u,c,l)=>{ga.currentPixelUnpackBufferBinding?ga.compressedTexSubImage3D(e,r,t,n,a,o,i,s,u,c,l):ga.compressedTexSubImage3D(e,r,t,n,a,o,i,s,u,h,l,c)},kc:(e,r,t,n,a)=>ga.copyBufferSubData(e,r,t,n,a),Jf:(e,r,t,n,a,o,i,s)=>ga.copyTexImage2D(e,r,t,n,a,o,i,s),If:(e,r,t,n,a,o,i,s)=>ga.copyTexSubImage2D(e,r,t,n,a,o,i,s),nd:(e,r,t,n,a,o,i,s,u)=>ga.copyTexSubImage3D(e,r,t,n,a,o,i,s,u),Hf:Lr,Gf:Fr,Ff:e=>ga.cullFace(e),Ef:Pr,Df:(e,r)=>{for(var t=0;t<e;++t){var n=w[r+4*t>>2],a=Ce.framebuffers[n];a&&(ga.deleteFramebuffer(a),a.name=0,Ce.framebuffers[n]=null)}},Cf:Mr,jd:(e,r)=>{for(var t=0;t<e;t++){var n=w[r+4*t>>2],a=Ce.queries[n];a&&(ga.deleteQuery(a),Ce.queries[n]=null)}},wg:(e,r)=>{for(var t=0;t<e;t++){var n=w[r+4*t>>2],a=Ce.queries[n];a&&(ga.disjointTimerQueryExt.deleteQueryEXT(a),Ce.queries[n]=null)}},Bf:(e,r)=>{for(var t=0;t<e;t++){var n=w[r+4*t>>2],a=Ce.renderbuffers[n];a&&(ga.deleteRenderbuffer(a),a.name=0,Ce.renderbuffers[n]=null)}},Tb:(e,r)=>{for(var t=0;t<e;t++){var n=w[r+4*t>>2],a=Ce.samplers[n];a&&(ga.deleteSampler(a),a.name=0,Ce.samplers[n]=null)}},Af:Tr,$b:e=>{if(e){var r=Ce.syncs[e];r?(ga.deleteSync(r),r.name=0,Ce.syncs[e]=null):Ce.recordError(1281)}},zf:(e,r)=>{for(var t=0;t<e;t++){var n=w[r+4*t>>2],a=Ce.textures[n];a&&(ga.deleteTexture(a),a.name=0,Ce.textures[n]=null)}},Ib:(e,r)=>{for(var t=0;t<e;t++){var n=w[r+4*t>>2],a=Ce.transformFeedbacks[n];a&&(ga.deleteTransformFeedback(a),a.name=0,Ce.transformFeedbacks[n]=null)}},Tc:Ir,lg:Nr,yf:e=>ga.depthFunc(e),xf:e=>{ga.depthMask(!!e)},wf:(e,r)=>ga.depthRange(e,r),vf:zr,uf:Gr,tf:e=>{ga.disableVertexAttribArray(e)},sf:(e,r,t)=>{ga.drawArrays(e,r,t)},dc:Hr,hg:Xr,rb:Vr,ud:Qr,sb:Jr,dd:rt,sd:nt,ig:ot,rf:st,cc:ct,gg:dt,pb:mt,qb:pt,td:ht,qd:(e,r,t,n,a,o)=>{it(e,n,a,o)},qf:yt,pf:Et,gd:e=>ga.endQuery(e),tg:e=>{ga.disjointTimerQueryExt.endQueryEXT(e)},Nc:()=>ga.endTransformFeedback(),bc:(e,r)=>{var t=ga.fenceSync(e,r);if(t){var n=Ce.getNewId(Ce.syncs);return t.name=n,Ce.syncs[n]=t,n}return 0},of:()=>ga.finish(),mf:()=>ga.flush(),lf:(e,r,t,n)=>{ga.framebufferRenderbuffer(e,r,t,Ce.renderbuffers[n])},kf:(e,r,t,n,a)=>{ga.framebufferTexture2D(e,r,t,Ce.textures[n],a)},Vc:(e,r,t,n,a)=>{ga.framebufferTextureLayer(e,r,Ce.textures[t],n,a)},jf:e=>ga.frontFace(e),hf:_t,ff:(e,r)=>{Ce.genObject(e,r,"createFramebuffer",Ce.framebuffers)},kd:(e,r)=>{Ce.genObject(e,r,"createQuery",Ce.queries)},xg:(e,r)=>{for(var t=0;t<e;t++){var n=ga.disjointTimerQueryExt.createQueryEXT();if(!n){for(Ce.recordError(1282);t<e;)w[r+4*t++>>2]=0;return}var a=Ce.getNewId(Ce.queries);n.name=a,Ce.queries[a]=n,w[r+4*t>>2]=a}},ef:(e,r)=>{Ce.genObject(e,r,"createRenderbuffer",Ce.renderbuffers)},Ub:(e,r)=>{Ce.genObject(e,r,"createSampler",Ce.samplers)},df:Ct,Hb:(e,r)=>{Ce.genObject(e,r,"createTransformFeedback",Ce.transformFeedbacks)},Sc:St,kg:Dt,gf:e=>ga.generateMipmap(e),cf:(e,r,t,n,a,o,i)=>{Pt("getActiveAttrib",e,r,t,n,a,o,i)},bf:(e,r,t,n,a,o,i)=>{Pt("getActiveUniform",e,r,t,n,a,o,i)},fc:(e,r,t,n,a)=>{e=Ce.programs[e];var o=ga.getActiveUniformBlockName(e,r);if(o)if(a&&t>0){var i=Le(o,a,t);n&&(w[n>>2]=i)}else n&&(w[n>>2]=0)},gc:(e,r,t,n)=>{if(n)if(e=Ce.programs[e],35393!=t){var a=ga.getActiveUniformBlockParameter(e,r,t);if(null!==a)if(35395==t)for(var o=0;o<a.length;o++)w[n+4*o>>2]=a[o];else w[n>>2]=a}else{var i=ga.getActiveUniformBlockName(e,r);w[n>>2]=i.length+1}else Ce.recordError(1281)},ic:(e,r,t,n,a)=>{if(a)if(r>0&&0==t)Ce.recordError(1281);else{e=Ce.programs[e];for(var o=[],i=0;i<r;i++)o.push(w[t+4*i>>2]);var s=ga.getActiveUniforms(e,o,n);if(s){var u=s.length;for(i=0;i<u;i++)w[a+4*i>>2]=s[i]}}else Ce.recordError(1281)},af:(e,r,t,n)=>{var a=ga.getAttachedShaders(Ce.programs[e]),o=a.length;o>r&&(o=r),w[t>>2]=o;for(var i=0;i<o;++i){var s=Ce.shaders.indexOf(a[i]);w[n+4*i>>2]=s}},$e:Mt,_e:(e,r)=>Bt(e,r,4),Vb:(e,r,t)=>{t?Rt(t,ga.getBufferParameter(e,r)):Ce.recordError(1281)},Ze:(e,r,t)=>{t?w[t>>2]=ga.getBufferParameter(e,r):Ce.recordError(1281)},Ye:()=>{var e=ga.getError()||Ce.lastError;return Ce.lastError=0,e},Xe:(e,r)=>Bt(e,r,2),zc:(e,r)=>ga.getFragDataLocation(Ce.programs[e],de(r)),We:(e,r,t,n)=>{var a=ga.getFramebufferAttachmentParameter(e,r,t);(a instanceof WebGLRenderbuffer||a instanceof WebGLTexture)&&(a=0|a.name),w[n>>2]=a},Wb:(e,r,t)=>It(e,r,t,1),Yb:(e,r)=>{Bt(e,r,1)},Qc:Nt,Ve:zt,vb:(e,r,t,n,a)=>{if(n<0)Ce.recordError(1281);else if(a){var o=ga.getInternalformatParameter(e,r,t);if(null!==o)for(var i=0;i<o.length&&i<n;++i)w[a+4*i>>2]=o[i]}else Ce.recordError(1281)},Cb:(e,r,t,n,a)=>{Ce.recordError(1282)},Se:Gt,Ue:Ht,og:Xt,qg:Vt,ng:$t,ed:(e,r,t)=>{if(t){var n,a=Ce.queries[e],o=ga.getQueryParameter(a,r);n="boolean"==typeof o?o?1:0:o,w[t>>2]=n}else Ce.recordError(1281)},pg:Qt,fd:(e,r,t)=>{t?w[t>>2]=ga.getQuery(e,r):Ce.recordError(1281)},rg:(e,r,t)=>{t?w[t>>2]=ga.disjointTimerQueryExt.getQueryEXT(e,r):Ce.recordError(1281)},Re:(e,r,t)=>{t?w[t>>2]=ga.getRenderbufferParameter(e,r):Ce.recordError(1281)},Lb:(e,r,t)=>{t?x[t>>2]=ga.getSamplerParameter(Ce.samplers[e],r):Ce.recordError(1281)},Mb:(e,r,t)=>{t?w[t>>2]=ga.getSamplerParameter(Ce.samplers[e],r):Ce.recordError(1281)},Pe:Jt,Oe:(e,r,t,n)=>{var a=ga.getShaderPrecisionFormat(e,r);w[t>>2]=a.rangeMin,w[t+4>>2]=a.rangeMax,w[n>>2]=a.precision},Ne:(e,r,t,n)=>{var a=ga.getShaderSource(Ce.shaders[e]);if(a){var o=r>0&&n?Le(a,n,r):0;t&&(w[t>>2]=o)}},Qe:en,Me:tn,lc:(e,r)=>{if(Ce.currentContext.version<2)return Ce.recordError(1282),0;var t=Ce.stringiCache[e];if(t)return r<0||r>=t.length?(Ce.recordError(1281),0):t[r];if(7939===e){var n=Tt().map(Se);return t=Ce.stringiCache[e]=n,r<0||r>=t.length?(Ce.recordError(1281),0):t[r]}return Ce.recordError(1280),0},Xb:(e,r,t,n,a)=>{if(t<0)Ce.recordError(1281);else if(a){var o=ga.getSyncParameter(Ce.syncs[e],r);null!==o&&(w[a>>2]=o,n&&(w[n>>2]=1))}else Ce.recordError(1281)},Le:(e,r,t)=>{t?x[t>>2]=ga.getTexParameter(e,r):Ce.recordError(1281)},Ke:(e,r,t)=>{t?w[t>>2]=ga.getTexParameter(e,r):Ce.recordError(1281)},Jc:(e,r,t,n,a,o,i)=>{e=Ce.programs[e];var s=ga.getTransformFeedbackVarying(e,r);if(s){if(i&&t>0){var u=Le(s.name,i,t);n&&(w[n>>2]=u)}else n&&(w[n>>2]=0);a&&(w[a>>2]=s.size),o&&(w[o>>2]=s.type)}},hc:(e,r)=>ga.getUniformBlockIndex(Ce.programs[e],de(r)),jc:(e,r,t,n)=>{if(n)if(r>0&&(0==t||0==n))Ce.recordError(1281);else{e=Ce.programs[e];for(var a=[],o=0;o<r;o++)a.push(de(w[t+4*o>>2]));var i=ga.getUniformIndices(e,a);if(i){var s=i.length;for(o=0;o<s;o++)w[n+4*o>>2]=i[o]}}else Ce.recordError(1281)},He:sn,Je:(e,r,t)=>{cn(e,r,t,2)},Ie:(e,r,t)=>{cn(e,r,t,0)},Ac:(e,r,t)=>cn(e,r,t,0),Hc:fn,Gc:mn,Ee:(e,r,t)=>{t?w[t>>2]=ga.getVertexAttribOffset(e,r):Ce.recordError(1281)},Ge:(e,r,t)=>{ln(e,r,t,2)},Fe:(e,r,t)=>{ln(e,r,t,5)},De:(e,r)=>ga.hint(e,r),zb:(e,r,t)=>{for(var n=Zr[r],a=0;a<r;a++)n[a]=w[t+4*a>>2];ga.invalidateFramebuffer(e,n)},yb:(e,r,t,n,a,o,i)=>{for(var s=Zr[r],u=0;u<r;u++)s[u]=w[t+4*u>>2];ga.invalidateSubFramebuffer(e,s,n,a,o,i)},Ce:e=>{var r=Ce.buffers[e];return r?ga.isBuffer(r):0},Be:pn,Ae:e=>{var r=Ce.framebuffers[e];return r?ga.isFramebuffer(r):0},ze:e=>(e=Ce.programs[e])?ga.isProgram(e):0,id:e=>{var r=Ce.queries[e];return r?ga.isQuery(r):0},vg:e=>{var r=Ce.queries[e];return r?ga.disjointTimerQueryExt.isQueryEXT(r):0},ye:e=>{var r=Ce.renderbuffers[e];return r?ga.isRenderbuffer(r):0},Sb:e=>{var r=Ce.samplers[e];return r?ga.isSampler(r):0},xe:e=>{var r=Ce.shaders[e];return r?ga.isShader(r):0},ac:e=>ga.isSync(Ce.syncs[e]),we:e=>{var r=Ce.textures[e];return r?ga.isTexture(r):0},Fb:e=>ga.isTransformFeedback(Ce.transformFeedbacks[e]),Rc:hn,jg:bn,ve:e=>ga.lineWidth(e),ue:wn,Eb:()=>ga.pauseTransformFeedback(),te:(e,r)=>{3317==e&&(Ce.unpackAlignment=r),ga.pixelStorei(e,r)},se:(e,r)=>ga.polygonOffset(e,r),Bb:(e,r,t,n)=>{Ce.recordError(1280)},Ab:(e,r,t)=>{Ce.recordError(1280)},sg:(e,r)=>{ga.disjointTimerQueryExt.queryCounterEXT(Ce.queries[e],r)},rd:e=>ga.readBuffer(e),re:(e,r,t,n,a,o,i)=>{if(Ce.currentContext.version>=2)if(ga.currentPixelPackBufferBinding)ga.readPixels(e,r,t,n,a,o,i);else{var s=En(o),u=xn(i,s);ga.readPixels(e,r,t,n,a,o,s,u)}else{var c=_n(o,a,t,n,i);c?ga.readPixels(e,r,t,n,a,o,c):Ce.recordError(1280)}},qe:()=>{},pe:(e,r,t,n)=>ga.renderbufferStorage(e,r,t,n),Wc:(e,r,t,n,a)=>ga.renderbufferStorageMultisample(e,r,t,n,a),Db:()=>ga.resumeTransformFeedback(),oe:(e,r)=>{ga.sampleCoverage(e,!!r)},Ob:(e,r,t)=>{ga.samplerParameterf(Ce.samplers[e],r,t)},Nb:(e,r,t)=>{var n=x[t>>2];ga.samplerParameterf(Ce.samplers[e],r,n)},Qb:(e,r,t)=>{ga.samplerParameteri(Ce.samplers[e],r,t)},Pb:(e,r,t)=>{var n=w[t>>2];ga.samplerParameteri(Ce.samplers[e],r,n)},ne:Cn,me:(e,r,t,n,a)=>{Ce.recordError(1280)},le:Sn,ke:(e,r,t)=>ga.stencilFunc(e,r,t),je:(e,r,t,n)=>ga.stencilFuncSeparate(e,r,t,n),ie:e=>ga.stencilMask(e),he:(e,r)=>ga.stencilMaskSeparate(e,r),ge:(e,r,t)=>ga.stencilOp(e,r,t),fe:(e,r,t,n)=>ga.stencilOpSeparate(e,r,t,n),ee:Dn,pd:(e,r,t,n,a,o,i,s,u,c)=>{if(ga.currentPixelUnpackBufferBinding)ga.texImage3D(e,r,t,n,a,o,i,s,u,c);else if(c){var l=En(u);ga.texImage3D(e,r,t,n,a,o,i,s,u,l,xn(c,l))}else ga.texImage3D(e,r,t,n,a,o,i,s,u,null)},de:(e,r,t)=>ga.texParameterf(e,r,t),ce:(e,r,t)=>{var n=x[t>>2];ga.texParameterf(e,r,n)},be:An,ae:(e,r,t)=>{var n=w[t>>2];ga.texParameteri(e,r,n)},xb:(e,r,t,n,a)=>ga.texStorage2D(e,r,t,n,a),wb:(e,r,t,n,a,o)=>ga.texStorage3D(e,r,t,n,a,o),$d:(e,r,t,n,a,o,i,s,u)=>{if(Ce.currentContext.version>=2)if(ga.currentPixelUnpackBufferBinding)ga.texSubImage2D(e,r,t,n,a,o,i,s,u);else if(u){var c=En(s);return void ga.texSubImage2D(e,r,t,n,a,o,i,s,c,xn(u,c))}var l=u?_n(s,i,a,o,u):null;ga.texSubImage2D(e,r,t,n,a,o,i,s,l)},od:(e,r,t,n,a,o,i,s,u,c,l)=>{if(ga.currentPixelUnpackBufferBinding)ga.texSubImage3D(e,r,t,n,a,o,i,s,u,c,l);else if(l){var d=En(c);ga.texSubImage3D(e,r,t,n,a,o,i,s,u,c,d,xn(l,d))}else ga.texSubImage3D(e,r,t,n,a,o,i,s,u,c,null)},Kc:(e,r,t,n)=>{e=Ce.programs[e];for(var a=[],o=0;o<r;o++)a.push(de(w[t+4*o>>2]));ga.transformFeedbackVaryings(e,a,n)},_d:(e,r)=>{ga.uniform1f(un(e),r)},Zd:(e,r,t)=>{if(Ce.currentContext.version>=2)r&&ga.uniform1fv(un(e),x,t>>2,r);else{if(r<=288)for(var n=Mn[r-1],a=0;a<r;++a)n[a]=x[t+4*a>>2];else n=x.subarray(t>>2,t+4*r>>2);ga.uniform1fv(un(e),n)}},Yd:Tn,Xd:(e,r,t)=>{if(Ce.currentContext.version>=2)r&&ga.uniform1iv(un(e),w,t>>2,r);else{if(r<=288)for(var n=Bn[r-1],a=0;a<r;++a)n[a]=w[t+4*a>>2];else n=w.subarray(t>>2,t+4*r>>2);ga.uniform1iv(un(e),n)}},yc:(e,r)=>{ga.uniform1ui(un(e),r)},uc:(e,r,t)=>{r&&ga.uniform1uiv(un(e),E,t>>2,r)},Wd:(e,r,t)=>{ga.uniform2f(un(e),r,t)},Vd:(e,r,t)=>{if(Ce.currentContext.version>=2)r&&ga.uniform2fv(un(e),x,t>>2,2*r);else{if(r<=144)for(var n=Mn[2*r-1],a=0;a<2*r;a+=2)n[a]=x[t+4*a>>2],n[a+1]=x[t+(4*a+4)>>2];else n=x.subarray(t>>2,t+8*r>>2);ga.uniform2fv(un(e),n)}},Ud:(e,r,t)=>{ga.uniform2i(un(e),r,t)},Td:(e,r,t)=>{if(Ce.currentContext.version>=2)r&&ga.uniform2iv(un(e),w,t>>2,2*r);else{if(r<=144)for(var n=Bn[2*r-1],a=0;a<2*r;a+=2)n[a]=w[t+4*a>>2],n[a+1]=w[t+(4*a+4)>>2];else n=w.subarray(t>>2,t+8*r>>2);ga.uniform2iv(un(e),n)}},xc:(e,r,t)=>{ga.uniform2ui(un(e),r,t)},sc:(e,r,t)=>{r&&ga.uniform2uiv(un(e),E,t>>2,2*r)},Sd:(e,r,t,n)=>{ga.uniform3f(un(e),r,t,n)},Rd:(e,r,t)=>{if(Ce.currentContext.version>=2)r&&ga.uniform3fv(un(e),x,t>>2,3*r);else{if(r<=96)for(var n=Mn[3*r-1],a=0;a<3*r;a+=3)n[a]=x[t+4*a>>2],n[a+1]=x[t+(4*a+4)>>2],n[a+2]=x[t+(4*a+8)>>2];else n=x.subarray(t>>2,t+12*r>>2);ga.uniform3fv(un(e),n)}},Qd:(e,r,t,n)=>{ga.uniform3i(un(e),r,t,n)},Pd:(e,r,t)=>{if(Ce.currentContext.version>=2)r&&ga.uniform3iv(un(e),w,t>>2,3*r);else{if(r<=96)for(var n=Bn[3*r-1],a=0;a<3*r;a+=3)n[a]=w[t+4*a>>2],n[a+1]=w[t+(4*a+4)>>2],n[a+2]=w[t+(4*a+8)>>2];else n=w.subarray(t>>2,t+12*r>>2);ga.uniform3iv(un(e),n)}},wc:(e,r,t,n)=>{ga.uniform3ui(un(e),r,t,n)},rc:(e,r,t)=>{r&&ga.uniform3uiv(un(e),E,t>>2,3*r)},Od:(e,r,t,n,a)=>{ga.uniform4f(un(e),r,t,n,a)},Nd:(e,r,t)=>{if(Ce.currentContext.version>=2)r&&ga.uniform4fv(un(e),x,t>>2,4*r);else{if(r<=72){var n=Mn[4*r-1],a=x;t>>=2;for(var o=0;o<4*r;o+=4){var i=t+o;n[o]=a[i],n[o+1]=a[i+1],n[o+2]=a[i+2],n[o+3]=a[i+3]}}else n=x.subarray(t>>2,t+16*r>>2);ga.uniform4fv(un(e),n)}},Md:(e,r,t,n,a)=>{ga.uniform4i(un(e),r,t,n,a)},Ld:(e,r,t)=>{if(Ce.currentContext.version>=2)r&&ga.uniform4iv(un(e),w,t>>2,4*r);else{if(r<=72)for(var n=Bn[4*r-1],a=0;a<4*r;a+=4)n[a]=w[t+4*a>>2],n[a+1]=w[t+(4*a+4)>>2],n[a+2]=w[t+(4*a+8)>>2],n[a+3]=w[t+(4*a+12)>>2];else n=w.subarray(t>>2,t+16*r>>2);ga.uniform4iv(un(e),n)}},vc:(e,r,t,n,a)=>{ga.uniform4ui(un(e),r,t,n,a)},qc:(e,r,t)=>{r&&ga.uniform4uiv(un(e),E,t>>2,4*r)},ec:(e,r,t)=>{e=Ce.programs[e],ga.uniformBlockBinding(e,r,t)},Kd:(e,r,t,n)=>{if(Ce.currentContext.version>=2)r&&ga.uniformMatrix2fv(un(e),!!t,x,n>>2,4*r);else{if(r<=72)for(var a=Mn[4*r-1],o=0;o<4*r;o+=4)a[o]=x[n+4*o>>2],a[o+1]=x[n+(4*o+4)>>2],a[o+2]=x[n+(4*o+8)>>2],a[o+3]=x[n+(4*o+12)>>2];else a=x.subarray(n>>2,n+16*r>>2);ga.uniformMatrix2fv(un(e),!!t,a)}},cd:(e,r,t,n)=>{r&&ga.uniformMatrix2x3fv(un(e),!!t,x,n>>2,6*r)},ad:(e,r,t,n)=>{r&&ga.uniformMatrix2x4fv(un(e),!!t,x,n>>2,8*r)},Jd:(e,r,t,n)=>{if(Ce.currentContext.version>=2)r&&ga.uniformMatrix3fv(un(e),!!t,x,n>>2,9*r);else{if(r<=32)for(var a=Mn[9*r-1],o=0;o<9*r;o+=9)a[o]=x[n+4*o>>2],a[o+1]=x[n+(4*o+4)>>2],a[o+2]=x[n+(4*o+8)>>2],a[o+3]=x[n+(4*o+12)>>2],a[o+4]=x[n+(4*o+16)>>2],a[o+5]=x[n+(4*o+20)>>2],a[o+6]=x[n+(4*o+24)>>2],a[o+7]=x[n+(4*o+28)>>2],a[o+8]=x[n+(4*o+32)>>2];else a=x.subarray(n>>2,n+36*r>>2);ga.uniformMatrix3fv(un(e),!!t,a)}},bd:(e,r,t,n)=>{r&&ga.uniformMatrix3x2fv(un(e),!!t,x,n>>2,6*r)},Zc:(e,r,t,n)=>{r&&ga.uniformMatrix3x4fv(un(e),!!t,x,n>>2,12*r)},Id:jn,$c:(e,r,t,n)=>{r&&ga.uniformMatrix4x2fv(un(e),!!t,x,n>>2,8*r)},Yc:(e,r,t,n)=>{r&&ga.uniformMatrix4x3fv(un(e),!!t,x,n>>2,12*r)},Hd:On,Gd:e=>{ga.validateProgram(Ce.programs[e])},Fd:(e,r)=>ga.vertexAttrib1f(e,r),Ed:(e,r)=>{ga.vertexAttrib1f(e,x[r>>2])},Dd:(e,r,t)=>ga.vertexAttrib2f(e,r,t),Cd:(e,r)=>{ga.vertexAttrib2f(e,x[r>>2],x[r+4>>2])},Bd:(e,r,t,n)=>ga.vertexAttrib3f(e,r,t,n),Ad:(e,r)=>{ga.vertexAttrib3f(e,x[r>>2],x[r+4>>2],x[r+8>>2])},zd:(e,r,t,n,a)=>ga.vertexAttrib4f(e,r,t,n,a),yd:(e,r)=>{ga.vertexAttrib4f(e,x[r>>2],x[r+4>>2],x[r+8>>2],x[r+12>>2])},Kb:Un,fg:Gn,tb:qn,vd:Hn,ub:Wn,Fc:(e,r,t,n,a)=>ga.vertexAttribI4i(e,r,t,n,a),Cc:(e,r)=>{ga.vertexAttribI4i(e,w[r>>2],w[r+4>>2],w[r+8>>2],w[r+12>>2])},Dc:(e,r,t,n,a)=>ga.vertexAttribI4ui(e,r,t,n,a),Bc:(e,r)=>{ga.vertexAttribI4ui(e,E[r>>2],E[r+4>>2],E[r+8>>2],E[r+12>>2])},Ic:Yn,xd:$n,wd:Kn,Zb:(e,r,t,n)=>{var a=xr(t,n);ga.waitSync(Ce.syncs[e],r,a)},x:()=>0,ob:(e,r,t)=>h.copyWithin(e,r,r+t),zg:(e,r,t)=>((e,r)=>Me.fullscreenEnabled()?(e=Be(e))?e.requestFullscreen||e.webkitRequestFullscreen?Me.canPerformEventHandlerRequests()?We(e,r):r.deferUntilInEventHandler?(Me.deferCall(We,1,[e,r]),1):-2:-3:-4:-1)(e,{scaleMode:w[t>>2],canvasResolutionScaleMode:w[t+4>>2],filteringMode:w[t+8>>2],deferUntilInEventHandler:r,canvasResizedCallback:w[t+12>>2],canvasResizedCallbackUserData:w[t+16>>2]}),R:(e,r)=>(e=Be(e))?e.requestPointerLock?Me.canPerformEventHandlerRequests()?Xe(e):r?(Me.deferCall(Xe,2,[e]),1):-2:-1:-4,gb:e=>{var r=h.length,t=2147483648;if((e>>>=0)>t)return!1;for(var n,a=1;a<=4;a*=2){var o=r*(1+.2/a);o=Math.min(o,e+100663296);var i=Math.min(t,(n=Math.max(e,o))+(65536-n%65536)%65536);if(Jn(i))return!0}return!1},X:Zn,pa:(e,r,t)=>"undefined"==typeof onbeforeunload?-1:1!==t?-5:((e,r,t,n,a,o)=>{var i={target:Be(2),eventTypeString:"beforeunload",callbackfunc:n,handlerFunc:(e=event)=>{var t=Ge(n)(28,0,r);if(t&&(t=de(t)),t)return e.preventDefault(),e.returnValue=t,t},useCapture:!0};return Me.registerOrRemoveHandler(i)})(0,e,0,r),Ba:(e,r,t,n,a)=>ea(e,r,t,n,12,"blur"),j:Oe,v:(e,r,t)=>(e=Be(e))?(e.style.width=r+"px",e.style.height=t+"px",0):-4,K:(e,r,t,n,a)=>ea(e,r,t,n,13,"focus"),sa:(e,r,t,n,a)=>Me.fullscreenEnabled()?(e=Be(e))?(ra(e,r,t,n,19,"webkitfullscreenchange"),ra(e,r,t,n,19,"fullscreenchange")):-4:-1,V:(e,r,t,n)=>Zn()?-1:ta(2,e,r,t,26,"gamepadconnected"),U:(e,r,t,n)=>Zn()?-1:ta(2,e,r,t,27,"gamepaddisconnected"),va:(e,r,t,n,a)=>na(e,r,t,n,2,"keydown"),ta:(e,r,t,n,a)=>na(e,r,t,n,1,"keypress"),ua:(e,r,t,n,a)=>na(e,r,t,n,3,"keyup"),Ya:(e,r,t)=>{var n=Ge(e);pe(n,r,t)},P:(e,r,t,n,a)=>oa(e,r,t,n,5,"mousedown"),N:(e,r,t,n,a)=>oa(e,r,t,n,33,"mouseenter"),M:(e,r,t,n,a)=>oa(e,r,t,n,34,"mouseleave"),Q:(e,r,t,n,a)=>oa(e,r,t,n,8,"mousemove"),O:(e,r,t,n,a)=>oa(e,r,t,n,6,"mouseup"),wa:(e,r,t,n,a)=>document&&document.body&&(document.body.requestPointerLock||document.body.mozRequestPointerLock||document.body.webkitRequestPointerLock||document.body.msRequestPointerLock)?(e=Be(e))?(ia(e,r,t,n,20,"mozpointerlockchange"),ia(e,r,t,n,20,"webkitpointerlockchange"),ia(e,r,t,n,20,"mspointerlockchange"),ia(e,r,t,n,20,"pointerlockchange")):-4:-1,ra:(e,r,t,n,a)=>((e,r,t,n,a,o,i)=>{Me.uiEvent||(Me.uiEvent=La(36));var s={target:e=Be(e),eventTypeString:"resize",callbackfunc:n,handlerFunc:(t=event)=>{if(t.target==e){var a=document.body;if(a){var o=Me.uiEvent;w[o>>2]=0,w[o+4>>2]=a.clientWidth,w[o+8>>2]=a.clientHeight,w[o+12>>2]=innerWidth,w[o+16>>2]=innerHeight,w[o+20>>2]=outerWidth,w[o+24>>2]=outerHeight,w[o+28>>2]=0|pageXOffset,w[o+32>>2]=0|pageYOffset,Ge(n)(10,o,r)&&t.preventDefault()}}},useCapture:t};return Me.registerOrRemoveHandler(s)})(e,r,t,n),xa:(e,r,t,n,a)=>sa(e,r,t,n,25,"touchcancel"),za:(e,r,t,n,a)=>sa(e,r,t,n,23,"touchend"),ya:(e,r,t,n,a)=>sa(e,r,t,n,24,"touchmove"),Aa:(e,r,t,n,a)=>sa(e,r,t,n,22,"touchstart"),qa:(e,r,t,n)=>((e,r,t,n,a,o,i)=>{Me.visibilityChangeEvent||(Me.visibilityChangeEvent=La(8));var s={target:e,eventTypeString:o,callbackfunc:n,handlerFunc:(e=event)=>{var t,o,i=Me.visibilityChangeEvent;t=i,o=["hidden","visible","prerender","unloaded"].indexOf(document.visibilityState),w[t>>2]=document.hidden,w[t+4>>2]=o,Ge(n)(a,i,r)&&e.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)})(Te[1],e,r,t,21,"visibilitychange"),L:(e,r,t,n,a)=>(e=Be(e))?void 0!==e.onwheel?((e,r,t,n,a,o,i)=>{Me.wheelEvent||(Me.wheelEvent=La(104));var s={target:e,allowsDeferredCalls:!0,eventTypeString:"wheel",callbackfunc:n,handlerFunc:(t=event)=>{var a=Me.wheelEvent;aa(a,t,e),_[a+72>>3]=t.deltaX,_[a+80>>3]=t.deltaY,_[a+88>>3]=t.deltaZ,w[a+96>>2]=t.deltaMode,Ge(n)(9,a,r)&&t.preventDefault()},useCapture:t};return Me.registerOrRemoveHandler(s)})(e,r,t,n):-1:-4,Ag:e=>document.title=de(e),w:()=>{throw"Please compile your program with async support in order to use asynchronous operations like emscripten_sleep"},ib:(e,r)=>{var t=0;return ca().forEach(((n,a)=>{var o=r+t;E[e+4*a>>2]=o,((e,r)=>{for(var t=0;t<e.length;++t)g[r++]=e.charCodeAt(t);g[r]=0})(n,o),t+=n.length+1})),0},jb:(e,r)=>{var t=ca();E[e>>2]=t.length;var n=0;return t.forEach((e=>n+=e.length+1)),E[r>>2]=n,0},da:function(e){try{var r=fe.getStreamFromFD(e);return le.close(r),0}catch(e){if(void 0===le||"ErrnoError"!==e.name)throw e;return e.errno}},kb:function(e,r,t,n){try{var a=((e,r,t,n)=>{for(var a=0,o=0;o<t;o++){var i=E[r>>2],s=E[r+4>>2];r+=8;var u=le.read(e,g,i,s,n);if(u<0)return-1;if(a+=u,u<s)break;void 0!==n&&(n+=u)}return a})(fe.getStreamFromFD(e),r,t);return E[n>>2]=a,0}catch(e){if(void 0===le||"ErrnoError"!==e.name)throw e;return e.errno}},eb:function(e,r,t,n,a){var o,i,s=(i=t)+2097152>>>0<4194305-!!(o=r)?(o>>>0)+4294967296*i:NaN;try{if(isNaN(s))return 61;var u=fe.getStreamFromFD(e);return le.llseek(u,s,n),O=[u.position>>>0,(N=u.position,+Math.abs(N)>=1?N>0?+Math.floor(N/4294967296)>>>0:~~+Math.ceil((N-+(~~N>>>0))/4294967296)>>>0:0)],w[a>>2]=O[0],w[a+4>>2]=O[1],u.getdents&&0===s&&0===n&&(u.getdents=null),0}catch(e){if(void 0===le||"ErrnoError"!==e.name)throw e;return e.errno}},ea:function(e,r,t,n){try{var a=((e,r,t,n)=>{for(var a=0,o=0;o<t;o++){var i=E[r>>2],s=E[r+4>>2];r+=8;var u=le.write(e,g,i,s,n);if(u<0)return-1;a+=u,void 0!==n&&(n+=u)}return a})(fe.getStreamFromFD(e),r,t);return E[n>>2]=a,0}catch(e){if(void 0===le||"ErrnoError"!==e.name)throw e;return e.errno}},ba:Ve,E:Qe,d:Je,m:er,o:tr,y:ar,ab:ir,bb:ur,Te:lr,_:fr,t:vr,C:gr,S:br,$:wr,F:_r,ma:Cr,H:Sr,oa:Dr,nf:Ar,D:Rr,tc:Br,cb:jr,ca:Or,e:Ur,na:it,f:bt,i:wt,u:xt,$a:kt,Ec:Lt,db:Ft,z:At,h:jt,b:Ot,ja:Ut,r:qt,la:Kt,s:Zt,p:rn,I:on,l:vn,ka:yn,aa:kn,G:Ln,_a:Fn,Z:Pn,Pc:Rn,ia:In,q:Nn,Gb:Xn,n:Vn,J:Qn,hb:e=>la.errorString(e),_c:()=>0,fb:(e,r,t,n,a)=>((e,r,t,n)=>{var a=E[n+40>>2],o={tm_sec:w[n>>2],tm_min:w[n+4>>2],tm_hour:w[n+8>>2],tm_mday:w[n+12>>2],tm_mon:w[n+16>>2],tm_year:w[n+20>>2],tm_wday:w[n+24>>2],tm_yday:w[n+28>>2],tm_isdst:w[n+32>>2],tm_gmtoff:w[n+36>>2],tm_zone:a?de(a):""},i=de(t),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)i=i.replace(new RegExp(u,"g"),s[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function d(e,r,t){for(var n="number"==typeof e?e.toString():e||"";n.length<r;)n=t[0]+n;return n}function f(e,r){return d(e,r,"0")}function m(e,r){function t(e){return e<0?-1:e>0?1:0}var n;return 0===(n=t(e.getFullYear()-r.getFullYear()))&&0===(n=t(e.getMonth()-r.getMonth()))&&(n=t(e.getDate()-r.getDate())),n}function v(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function p(e){var r=((e,r)=>{for(var t=new Date(e.getTime());r>0;){var n=da(t.getFullYear()),a=t.getMonth(),o=(n?fa:ma)[a];if(!(r>o-t.getDate()))return t.setDate(t.getDate()+r),t;r-=o-t.getDate()+1,t.setDate(1),a<11?t.setMonth(a+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t})(new Date(e.tm_year+1900,0,1),e.tm_yday),t=new Date(r.getFullYear(),0,4),n=new Date(r.getFullYear()+1,0,4),a=v(t),o=v(n);return m(a,r)<=0?m(o,r)<=0?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}var h={"%a":e=>c[e.tm_wday].substring(0,3),"%A":e=>c[e.tm_wday],"%b":e=>l[e.tm_mon].substring(0,3),"%B":e=>l[e.tm_mon],"%C":e=>f((e.tm_year+1900)/100|0,2),"%d":e=>f(e.tm_mday,2),"%e":e=>d(e.tm_mday,2," "),"%g":e=>p(e).toString().substring(2),"%G":p,"%H":e=>f(e.tm_hour,2),"%I":e=>{var r=e.tm_hour;return 0==r?r=12:r>12&&(r-=12),f(r,2)},"%j":e=>f(e.tm_mday+((e,r)=>{for(var t=0,n=0;n<=r;t+=e[n++]);return t})(da(e.tm_year+1900)?fa:ma,e.tm_mon-1),3),"%m":e=>f(e.tm_mon+1,2),"%M":e=>f(e.tm_min,2),"%n":()=>"\n","%p":e=>e.tm_hour>=0&&e.tm_hour<12?"AM":"PM","%S":e=>f(e.tm_sec,2),"%t":()=>"\t","%u":e=>e.tm_wday||7,"%U":e=>{var r=e.tm_yday+7-e.tm_wday;return f(Math.floor(r/7),2)},"%V":e=>{var r=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&r++,r){if(53==r){var t=(e.tm_wday+371-e.tm_yday)%7;4==t||3==t&&da(e.tm_year)||(r=1)}}else{r=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&da(e.tm_year%400-1))&&r++}return f(r,2)},"%w":e=>e.tm_wday,"%W":e=>{var r=e.tm_yday+7-(e.tm_wday+6)%7;return f(Math.floor(r/7),2)},"%y":e=>(e.tm_year+1900).toString().substring(2),"%Y":e=>e.tm_year+1900,"%z":e=>{var r=e.tm_gmtoff,t=r>=0;return r=(r=Math.abs(r)/60)/60*100+r%60,(t?"+":"-")+String("0000"+r).slice(-4)},"%Z":e=>e.tm_zone,"%%":()=>"%"};for(var u in i=i.replace(/%%/g,"\0\0"),h)i.includes(u)&&(i=i.replace(new RegExp(u,"g"),h[u](o)));var b,y,x=ne(i=i.replace(/\0\0/g,"%"),!1);return x.length>r?0:(b=x,y=e,g.set(b,y),x.length-1)})(e,r,t,n)},ka=function(){var e,r,t,o,i={a:_a};function s(e,r){var t;return ka=e.exports,f=ka.Bg,C(),ve=ka.Eg,t=ka.Cg,S.unshift(t),T(),ka}if(R(),a.instantiateWasm)try{return a.instantiateWasm(i,s)}catch(e){v(`Module.instantiateWasm callback failed with error: ${e}`),n(e)}return(e=d,r=I,t=i,o=function(e){s(e.instance)},e||"function"!=typeof WebAssembly.instantiateStreaming||z(r)||"function"!=typeof fetch?G(r,t,o):fetch(r,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,t).then(o,(function(e){return v(`wasm streaming compile failed: ${e}`),v("falling back to ArrayBuffer instantiation"),G(r,t,o)}))))).catch(n),{}}(),Ca=a._main=(e,r)=>(Ca=a._main=ka.Dg)(e,r),La=e=>(La=ka.Fg)(e),Sa=()=>(Sa=ka.Gg)(),Fa=e=>(Fa=ka.Hg)(e),Da=e=>(Da=ka.Ig)(e),Pa=e=>(Pa=ka.Jg)(e);function Aa(){function e(){xa||(xa=!0,a.calledRun=!0,k||(a.noFSInit||le.init.initialized||le.init(),le.ignorePermissions=!1,oe.init(),W(S),W(F),r(a),a.onRuntimeInitialized&&a.onRuntimeInitialized(),Ma&&function(){var e=Ca;try{var r=e(0,0);be(r)}catch(e){return ge(e)}}(),function(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)e=a.postRun.shift(),D.unshift(e);var e;W(D)}()))}P>0||(function(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)e=a.preRun.shift(),L.unshift(e);var e;W(L)}(),P>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),e()}),1)):e()))}if(a.dynCall_jiji=(e,r,t,n,o)=>(a.dynCall_jiji=ka.Kg)(e,r,t,n,o),a.dynCall_ji=(e,r)=>(a.dynCall_ji=ka.Lg)(e,r),a.dynCall_viijii=(e,r,t,n,o,i,s)=>(a.dynCall_viijii=ka.Mg)(e,r,t,n,o,i,s),a.dynCall_iiiiij=(e,r,t,n,o,i,s)=>(a.dynCall_iiiiij=ka.Ng)(e,r,t,n,o,i,s),a.dynCall_iiiiijj=(e,r,t,n,o,i,s,u,c)=>(a.dynCall_iiiiijj=ka.Og)(e,r,t,n,o,i,s,u,c),a.dynCall_iiiiiijj=(e,r,t,n,o,i,s,u,c,l)=>(a.dynCall_iiiiiijj=ka.Pg)(e,r,t,n,o,i,s,u,c,l),a.___emscripten_embedded_file_data=216012,a.___start_em_js=267328,a.___stop_em_js=267544,a.addRunDependency=R,a.removeRunDependency=T,a.FS_createPath=le.createPath,a.FS_createLazyFile=le.createLazyFile,a.FS_createDevice=le.createDevice,a.FS_createPreloadedFile=le.createPreloadedFile,a.FS_createDataFile=le.createDataFile,a.FS_unlink=le.unlink,M=function e(){xa||Aa(),xa||(M=e)},a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var Ma=!0;return a.noInitialRun&&(Ma=!1),Aa(),e.ready});(async()=>{await async function(r){await e(r)}({canvas:document.getElementById("canvas")})})()})()})();